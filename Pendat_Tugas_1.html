
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Data Understanding &#8212; Selamat Datang</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Pendat_Tugas_1';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Pengenalan Data Mining (Penambangan Data)" href="Datamining.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.png" class="logo__image only-light" alt="Selamat Datang - Home"/>
    <script>document.write(`<img src="_static/logo.png" class="logo__image only-dark" alt="Selamat Datang - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Pendahuluan
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="Datamining.html">Pengenalan Data Mining (Penambangan Data)</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#"><strong>Data Understanding</strong></a></li>




</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2FPendat_Tugas_1.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/Pendat_Tugas_1.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Data Understanding</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#"><strong>Data Understanding</strong></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#tipe-data-pada-data-mining">Tipe Data pada Data Mining</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-nominal">1.<strong>Data Nominal</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-ordinal">2.<strong>Data Ordinal</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-biner">3.<strong>Data Biner</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tipe-data-biner"><strong>Tipe Data Biner:</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-numerik">4.<strong>Data Numerik</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#a-interval-scaled-data">A. <strong>Interval-Scaled Data</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#b-ratio-scaled-data">B. <strong>Ratio-Scaled Data</strong></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#pengumpulan-data">Pengumpulan Data</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#preview-data-dari-mysql">Preview Data dari MySQL</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#preview-data-dari-postgresql">Preview Data dari PostgreSQL</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#proses-penggabungan-data-yang-sudah-diambil">Proses penggabungan data yang sudah diambil</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#eksplorasi-data">Eksplorasi Data</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#statistik-deskriptif">Statistik Deskriptif</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#visualiasai-distribusi-data-yang-digabungkan">Visualiasai distribusi data yang digabungkan</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#identifikasi-masalah-data">Identifikasi Masalah Data</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#outliers"><strong>Outliers</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#penyebab-outlier"><strong>Penyebab Outlier</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dampak-outlier"><strong>Dampak Outlier</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pentingnya-deteksi-outlier"><strong>Pentingnya Deteksi Outlier</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#k-nearest-neighbors-knn"><strong>K-Nearest Neighbors (KNN)</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#prinsip-kerja-knn"><strong>Prinsip Kerja KNN</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#keunggulan-knn"><strong>Keunggulan KNN</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#kekurangan-knn"><strong>Kekurangan KNN</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#knn-untuk-deteksi-outlier"><strong>KNN untuk Deteksi Outlier</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#proses-deteksi-outlier-menggunakan-knn"><strong>Proses Deteksi Outlier menggunakan KNN</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#persiapan-data"><strong>Persiapan Data</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#inisialisasi-model-knn"><strong>Inisialisasi Model KNN</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menghitung-jarak"><strong>Menghitung Jarak</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menentukan-outlier"><strong>Menentukan Outlier</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#visualisasi"><strong>Visualisasi</strong></a></li>
</ul>
</li>
</ul>
</li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="data-understanding">
<h1><strong>Data Understanding</strong><a class="headerlink" href="#data-understanding" title="Link to this heading">#</a></h1>
<p>Data Understanding adalah proses eksplorasi awal untuk memahami karakteristik data, struktur, dan kualitasnya. Pada tahap ini, kita mengevaluasi apakah data cukup untuk dianalisis atau perlu dibersihkan dan ditambah.</p>
<p>Tujuan utama dari data understanding adalah sebagai berikut :</p>
<ul class="simple">
<li><p>Memahami Konteks Data : Mengetahui dari mana data berasal, apa arti setiap variabel, dan bagaimana hubungan antar variabel.</p></li>
<li><p>Mendeteksi Masalah Data : Mengidentifikasi missing values, outliers, noise, atau inkonsistensi dalam data.</p></li>
<li><p>Mengidentifikasi missing values, outliers, noise, atau inkonsistensi dalam data.</p></li>
<li><p>Menentukan Arah Analisis : Berdasarkan pemahaman awal, peneliti dapat merumuskan hipotesis atau menentukan teknik data mining yang tepat.</p></li>
</ul>
<p>Data Understanding adalah tahap awal dalam analisis data, di mana kita berusaha memahami karakteristik data yang kita miliki sebelum menggunakannya untuk pengolahan lebih lanjut. Berikut adalah penjelasan setiap langkahnya :</p>
<p>1.<strong>Pengumpulan Data</strong></p>
<p>Langkah pertama adalah mengumpulkan data dari berbagai sumber. Data ini bisa berasal dari file, database, atau sistem lain. Dan harus memastikan semua data yang dikumpulkan sesuai tujuan analisis.</p>
<p>2.<strong>Sampling</strong></p>
<p>Jika data yang dikumpulkan terlalu besar, kita tidak selalu harus langsung melihat semuanya. Kita bisa mengambil sebagian kecil dari data yang tetap mewakili keseluruhan. Ini membantu kita memahami isi data lebih cepat tanpa harus bekerja dengan seluruh dataset sejak awal.</p>
<p>3.<strong>Profiling Data</strong></p>
<p>Setelah memiliki data, kita perlu melihat strukturnya. Kita bisa mengecek berapa banyak kolom yang ada, jenis informasi apa saja yang disimpan, apakah ada nilai yang hilang, atau apakah ada pola tertentu dalam data. Tujuannya adalah mendapatkan gambaran awal tentang bentuk dan isi data yang kita miliki.</p>
<p>4.<strong>Korelasi dan Asosiasi</strong></p>
<p>Di tahap ini, kita mulai melihat apakah ada hubungan antara berbagai bagian data. Misalnya, apakah panjang kelopak bunga berhubungan dengan lebar kelopak? Jika ada pola atau hubungan tertentu, ini bisa memberikan wawasan lebih dalam tentang bagaimana data saling berhubungan.</p>
<p>5.<strong>Eksplorasi Data</strong></p>
<p>Setelah memahami hubungan dalam data, kita bisa membuat berbagai tampilan atau gambar yang membantu kita melihat pola dengan lebih jelas. Misalnya, dengan menggambarkan bagaimana ukuran bunga berbeda untuk setiap jenisnya, kita bisa lebih mudah memahami karakteristik masing-masing kelompok dalam data.</p>
<p>6.<strong>Identifikasi Masalah Data</strong></p>
<p>Tidak semua data yang dikumpulkan sempurna. Bisa saja ada data yang hilang, angka yang terlalu besar atau kecil dibandingkan normal, atau ada entri yang muncul lebih dari sekali. Dalam langkah ini, kita mencari dan mencatat masalah-masalah yang ada dalam data agar bisa diperbaiki sebelum melangkah ke tahap berikutnya.</p>
<p>7.<strong>Validasi Data</strong></p>
<p>Terakhir, sebelum menggunakan data untuk analisis lebih lanjut, kita perlu memastikan bahwa semuanya sudah sesuai dengan yang kita harapkan. Kita bisa memeriksa apakah jenis data sudah benar, apakah semua informasi yang penting tersedia, dan apakah tidak ada kesalahan yang akan mengganggu proses berikutnya.</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="tipe-data-pada-data-mining">
<h1>Tipe Data pada Data Mining<a class="headerlink" href="#tipe-data-pada-data-mining" title="Link to this heading">#</a></h1>
<p>Dalam data mining, data dapat dikategorikan berdasarkan sifat dan karakteristiknya. Berikut adalah tipe-tipe data yang lebih spesifik:</p>
<section id="data-nominal">
<h2>1.<strong>Data Nominal</strong><a class="headerlink" href="#data-nominal" title="Link to this heading">#</a></h2>
<p>Data nominal adalah data yang hanya berupa label atau kategori tanpa adanya hubungan urutan atau ranking di antara nilai-nilainya. Data ini tidak bisa dibandingkan lebih besar atau lebih kecil dan hanya bisa dibedakan.</p>
<p><strong>Contoh Data Nominal:</strong></p>
<ul class="simple">
<li><p><strong>Jenis Kelamin</strong> â†’ {Laki-Laki, Perempuan}</p></li>
<li><p><strong>Warna Favorit</strong> â†’ {Merah, Kuning, Biru}</p></li>
<li><p><strong>Kota Kelahiran</strong> â†’ {Jakarta, Surabaya, Bandung}</p></li>
<li><p><strong>Merek Mobil</strong> â†’ {Toyota, Honda, Suzuki}</p></li>
</ul>
<p>ğŸ’¡ Catatan:</p>
<ul class="simple">
<li><p>Data nominal bisa dikodekan menjadi angka (misal: Laki-laki = 0, Perempuan = 1), tapi angka ini tidak memiliki makna matematis.</p></li>
<li><p>Operasi matematis seperti penjumlahan dan pengurangan tidak bisa dilakukan pada data nominal.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="data-ordinal">
<h2>2.<strong>Data Ordinal</strong><a class="headerlink" href="#data-ordinal" title="Link to this heading">#</a></h2>
<p>Data ordinal adalah data yang memiliki urutan atau ranking, tetapi selisih antar nilai tidak bisa diukur dengan pasti. Perbedaan antar kategori mungkin tidak selalu sama.</p>
<p><strong>Contoh Data Ordinal:</strong></p>
<ul class="simple">
<li><p><strong>Tingkat kepuasan pelanggan</strong> â†’ {Sangat Puas, Puas, Netral, Tidak Puas, Sangat Tidak Puas}</p></li>
<li><p><strong>Tingkat Pendidikan</strong> â†’ {SD, SMP, SMA, Sarjana, Magister, Doktor}</p></li>
<li><p><strong>Peringkat Dalam Lomba</strong> â†’ {Juara 1, Juara 2, Juara 3}</p></li>
</ul>
<p>ğŸ’¡ <strong>Catatan:</strong></p>
<ul class="simple">
<li><p>Data ordinal bisa diurutkan, tapi tidak bisa dilakukan operasi matematis seperti penjumlahan atau pengurangan.</p></li>
<li><p>Misalnya, selisih antara â€œPuasâ€ dan â€œNetralâ€ belum tentu sama dengan selisih antara â€œNetralâ€ dan â€œTidak Puasâ€.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="data-biner">
<h2>3.<strong>Data Biner</strong><a class="headerlink" href="#data-biner" title="Link to this heading">#</a></h2>
<p>Data biner adalah data yang hanya memiliki dua kemungkinan nilai (0 atau 1, Ya atau Tidak, Benar atau Salah).</p>
<p><strong>Contoh Data Biner:</strong></p>
<ul class="simple">
<li><p><strong>Status Pernikahan</strong> â†’ {Menikah = 1, Belum Menikah = 0}</p></li>
<li><p><strong>Lulus ujian atau tidak</strong> â†’ {Lulus = 1, Tidak Lulus = 0}</p></li>
<li><p><strong>Apakah pasien memiliki penyakit tertentu?</strong> â†’ {Ya = 1, Tidak = 0}</p></li>
</ul>
<section id="tipe-data-biner">
<h3><strong>Tipe Data Biner:</strong><a class="headerlink" href="#tipe-data-biner" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><strong>Biner Simetris</strong> â†’ Kedua kategori memiliki bobot yang sama.</p>
<ul>
<li><p>Contoh: Jenis kelamin (Laki-laki atau Perempuan).</p></li>
</ul>
</li>
<li><p><strong>Biner Asimetris</strong> â†’ Salah satu kategori lebih penting daripada yang lain.</p>
<ul>
<li><p>Contoh: Dalam diagnosis penyakit, â€œAda penyakitâ€ lebih penting dibandingkan â€œTidak ada penyakitâ€.</p></li>
</ul>
</li>
</ul>
<p>ğŸ’¡ <strong>Catatan:</strong></p>
<ul class="simple">
<li><p>Data biner sering digunakan dalam machine learning untuk klasifikasi biner.</p></li>
<li><p>Dalam beberapa kasus, data nominal bisa dikonversi menjadi data biner (misalnya, One-Hot Encoding dalam machine learning).</p></li>
</ul>
</section>
</section>
<hr class="docutils" />
<section id="data-numerik">
<h2>4.<strong>Data Numerik</strong><a class="headerlink" href="#data-numerik" title="Link to this heading">#</a></h2>
<p>Data numerik adalah data yang berbentuk angka dan bisa dilakukan operasi matematis seperti penjumlahan, pengurangan, perkalian, dan pembagian.</p>
<section id="a-interval-scaled-data">
<h3>A. <strong>Interval-Scaled Data</strong><a class="headerlink" href="#a-interval-scaled-data" title="Link to this heading">#</a></h3>
<p>Data interval adalah data numerik di mana perbedaan antar nilai memiliki makna, tetapi <strong>tidak memiliki nol absolut</strong>. Artinya, nol pada skala ini bukan berarti â€œtidak adaâ€.</p>
<p><strong>Contoh Data Interval:</strong></p>
<ul class="simple">
<li><p><strong>Suhu dalam skala Celcius atau Fahrenheit</strong> â†’ (0Â°C bukan berarti tidak ada suhu, hanya titik referensi).</p></li>
<li><p><strong>Tahun dalam kalender</strong> â†’ (Tahun 2000 dan 2020 bisa dibandingkan, tapi tidak ada â€œtahun nolâ€ absolut).</p></li>
</ul>
<p>ğŸ’¡ <strong>Catatan:</strong></p>
<ul class="simple">
<li><p>Data interval bisa dilakukan operasi penjumlahan dan pengurangan, tetapi <strong>tidak bisa dilakukan pembagian atau perkalian.</strong></p></li>
<li><p>Data interval bisa dilakukan operasi penjumlahan dan pengurangan, tetapi tidak bisa dilakukan pembagian atau perkalian.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="b-ratio-scaled-data">
<h3>B. <strong>Ratio-Scaled Data</strong><a class="headerlink" href="#b-ratio-scaled-data" title="Link to this heading">#</a></h3>
<p>Data rasio adalah data numerik di mana perbedaan antar nilai memiliki makna, dan memiliki <strong>nol absolut</strong>. Nol pada skala ini benar-benar berarti â€œtidak adaâ€.</p>
<p><strong>Contoh Data Rasio:</strong></p>
<ul class="simple">
<li><p><strong>Berat Badan</strong> â†’ (0 kg berarti tidak ada berat).</p></li>
<li><p><strong>Pendapatan Seseorang</strong> â†’ (0 rupiah berarti tidak ada penghasilan).</p></li>
<li><p><strong>Jumlah anak dalam keluarga</strong> â†’ (0 anak berarti tidak memiliki anak).</p></li>
<li><p><strong>Panjang atau Jarak</strong> â†’ (0 meter berarti tidak ada panjang atau jarak).</p></li>
</ul>
<p>ğŸ’¡ <strong>Catatan:</strong></p>
<ul class="simple">
<li><p>Data rasio memungkinkan semua operasi matematika (penjumlahan, pengurangan, perkalian, dan pembagian).</p></li>
<li><p>Bisa dibandingkan dengan perbandingan rasio. Contoh: â€œSeseorang dengan berat 80 kg memiliki berat dua kali lipat dibandingkan seseorang yang beratnya 40 kg.â€</p></li>
</ul>
<hr class="docutils" />
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>pymysql<span class="w"> </span>psycopg2-binary<span class="w"> </span>pandas<span class="w"> </span>sqlalchemy
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">create_engine</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Collecting pymysql
  Downloading PyMySQL-1.1.1-py3-none-any.whl.metadata (4.4 kB)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Collecting psycopg2-binary
  Downloading psycopg2_binary-2.9.10-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (4.9 kB)
Requirement already satisfied: pandas in /usr/local/lib/python3.11/dist-packages (2.2.2)
Requirement already satisfied: sqlalchemy in /usr/local/lib/python3.11/dist-packages (2.0.39)
Requirement already satisfied: numpy&gt;=1.23.2 in /usr/local/lib/python3.11/dist-packages (from pandas) (2.0.2)
Requirement already satisfied: python-dateutil&gt;=2.8.2 in /usr/local/lib/python3.11/dist-packages (from pandas) (2.8.2)
Requirement already satisfied: pytz&gt;=2020.1 in /usr/local/lib/python3.11/dist-packages (from pandas) (2025.1)
Requirement already satisfied: tzdata&gt;=2022.7 in /usr/local/lib/python3.11/dist-packages (from pandas) (2025.1)
Requirement already satisfied: greenlet!=0.4.17 in /usr/local/lib/python3.11/dist-packages (from sqlalchemy) (3.1.1)
Requirement already satisfied: typing-extensions&gt;=4.6.0 in /usr/local/lib/python3.11/dist-packages (from sqlalchemy) (4.12.2)
Requirement already satisfied: six&gt;=1.5 in /usr/local/lib/python3.11/dist-packages (from python-dateutil&gt;=2.8.2-&gt;pandas) (1.17.0)
Downloading PyMySQL-1.1.1-py3-none-any.whl (44 kB)
?25l   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” <span class=" -Color -Color-Green">0.0/45.0 kB</span> <span class=" -Color -Color-Red">?</span> eta <span class=" -Color -Color-Cyan">-:--:--</span>
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” <span class=" -Color -Color-Green">45.0/45.0 kB</span> <span class=" -Color -Color-Red">1.6 MB/s</span> eta <span class=" -Color -Color-Cyan">0:00:00</span>
?25hDownloading psycopg2_binary-2.9.10-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)
?25l   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” <span class=" -Color -Color-Green">0.0/3.0 MB</span> <span class=" -Color -Color-Red">?</span> eta <span class=" -Color -Color-Cyan">-:--:--</span>
   â”â”â”â•¸â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” <span class=" -Color -Color-Green">0.3/3.0 MB</span> <span class=" -Color -Color-Red">8.2 MB/s</span> eta <span class=" -Color -Color-Cyan">0:00:01</span>
   â”â”â”â•¸â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” <span class=" -Color -Color-Green">0.3/3.0 MB</span> <span class=" -Color -Color-Red">6.8 MB/s</span> eta <span class=" -Color -Color-Cyan">0:00:01</span>
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>   â”â”â”â”â”â”â”â”â•¸â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” <span class=" -Color -Color-Green">0.7/3.0 MB</span> <span class=" -Color -Color-Red">6.3 MB/s</span> eta <span class=" -Color -Color-Cyan">0:00:01</span>
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•ºâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” <span class=" -Color -Color-Green">1.3/3.0 MB</span> <span class=" -Color -Color-Red">9.5 MB/s</span> eta <span class=" -Color -Color-Cyan">0:00:01</span>
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•¸â”â”â”â”â”â”â”â”â”â”â”â” <span class=" -Color -Color-Green">2.1/3.0 MB</span> <span class=" -Color -Color-Red">12.0 MB/s</span> eta <span class=" -Color -Color-Cyan">0:00:01</span>
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•º <span class=" -Color -Color-Green">3.0/3.0 MB</span> <span class=" -Color -Color-Red">14.2 MB/s</span> eta <span class=" -Color -Color-Cyan">0:00:01</span>
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” <span class=" -Color -Color-Green">3.0/3.0 MB</span> <span class=" -Color -Color-Red">13.2 MB/s</span> eta <span class=" -Color -Color-Cyan">0:00:00</span>
?25h
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Installing collected packages: pymysql, psycopg2-binary
Successfully installed psycopg2-binary-2.9.10 pymysql-1.1.1
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="pengumpulan-data">
<h1>Pengumpulan Data<a class="headerlink" href="#pengumpulan-data" title="Link to this heading">#</a></h1>
<p>Selanjutnya dibawah akan ada contoh pengumpulan dan penggabungan data dari dua database berbeda (MySQl dan PostgreSQL) dengan statistik deskriptif sederhana dan visualisasi distribusi data.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Koneksi ke Aiven MySQL</span>
<span class="n">mysql_engine</span> <span class="o">=</span> <span class="n">create_engine</span><span class="p">(</span><span class="s2">&quot;mysql+pymysql://avnadmin:AVNS_KHBF7rSzKcX9MR2VTEk@irismysql-penambangan-data.h.aivencloud.com:14162/defaultdb&quot;</span><span class="p">)</span>

<span class="c1"># Koneksi ke Aiven PostgreSQL</span>
<span class="n">postgres_engine</span> <span class="o">=</span> <span class="n">create_engine</span><span class="p">(</span><span class="s2">&quot;postgresql+psycopg2://avnadmin:AVNS_i8oUQbmEihGJDk1ow03@irispostgresql-penambangan-data.h.aivencloud.com:14162/defaultdb?sslmode=require&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Ambil data dari MySQL</span>
<span class="n">query_mysql</span> <span class="o">=</span> <span class="s2">&quot;SELECT id, `petal length`, `petal width` FROM iris_mysql&quot;</span>
<span class="n">df_mysql</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_sql</span><span class="p">(</span><span class="n">query_mysql</span><span class="p">,</span> <span class="n">mysql_engine</span><span class="p">)</span>

<span class="c1"># Ambil data dari PostgreSQL</span>
<span class="n">query_postgres</span> <span class="o">=</span> <span class="s2">&quot;SELECT id, sepal_length, sepal_width FROM iris_postgres&quot;</span>
<span class="n">df_postgres</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_sql</span><span class="p">(</span><span class="n">query_postgres</span><span class="p">,</span> <span class="n">postgres_engine</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<section id="preview-data-dari-mysql">
<h2>Preview Data dari MySQL<a class="headerlink" href="#preview-data-dari-mysql" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_mysql</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-23138de4-9c0f-466e-a09b-6fbb2075c232" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>petal length</th>
      <th>petal width</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>1.4</td>
      <td>0.2</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>1.4</td>
      <td>0.2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>1.3</td>
      <td>0.2</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>1.5</td>
      <td>0.2</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>1.4</td>
      <td>0.2</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">
      
  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-23138de4-9c0f-466e-a09b-6fbb2075c232')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">
      
  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>
    
  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-23138de4-9c0f-466e-a09b-6fbb2075c232 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-23138de4-9c0f-466e-a09b-6fbb2075c232');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>
  
    </div>
  </div>
  </div></div>
</div>
</section>
<section id="preview-data-dari-postgresql">
<h2>Preview Data dari PostgreSQL<a class="headerlink" href="#preview-data-dari-postgresql" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_postgres</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-8ac081cb-1189-4b99-b4f9-957058389910" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>sepal_length</th>
      <th>sepal_width</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>5.1</td>
      <td>3.5</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>4.9</td>
      <td>3.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>4.7</td>
      <td>3.2</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>4.6</td>
      <td>3.1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>5.0</td>
      <td>3.6</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">
      
  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-8ac081cb-1189-4b99-b4f9-957058389910')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">
      
  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>
    
  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-8ac081cb-1189-4b99-b4f9-957058389910 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-8ac081cb-1189-4b99-b4f9-957058389910');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>
  
    </div>
  </div>
  </div></div>
</div>
</section>
<section id="proses-penggabungan-data-yang-sudah-diambil">
<h2>Proses penggabungan data yang sudah diambil<a class="headerlink" href="#proses-penggabungan-data-yang-sudah-diambil" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Proses Menggabungkan data dari dua database</span>
<span class="n">df_iris</span> <span class="o">=</span> <span class="n">df_mysql</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df_postgres</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># menyimpan hasil penggabungan ke file csv</span>
<span class="n">df_iris</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;iris_combined.csv&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">df_iris</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-81b76920-6d38-4242-a110-4066083c9baa" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>petal length</th>
      <th>petal width</th>
      <th>sepal_length</th>
      <th>sepal_width</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>1.4</td>
      <td>0.2</td>
      <td>5.1</td>
      <td>3.5</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>1.4</td>
      <td>0.2</td>
      <td>4.9</td>
      <td>3.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>1.3</td>
      <td>0.2</td>
      <td>4.7</td>
      <td>3.2</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>1.5</td>
      <td>0.2</td>
      <td>4.6</td>
      <td>3.1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>1.4</td>
      <td>0.2</td>
      <td>5.0</td>
      <td>3.6</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>145</th>
      <td>146</td>
      <td>5.2</td>
      <td>2.3</td>
      <td>6.7</td>
      <td>3.0</td>
    </tr>
    <tr>
      <th>146</th>
      <td>147</td>
      <td>5.0</td>
      <td>1.9</td>
      <td>6.3</td>
      <td>2.5</td>
    </tr>
    <tr>
      <th>147</th>
      <td>148</td>
      <td>5.2</td>
      <td>2.0</td>
      <td>6.5</td>
      <td>3.0</td>
    </tr>
    <tr>
      <th>148</th>
      <td>149</td>
      <td>5.4</td>
      <td>2.3</td>
      <td>6.2</td>
      <td>3.4</td>
    </tr>
    <tr>
      <th>149</th>
      <td>150</td>
      <td>5.1</td>
      <td>1.8</td>
      <td>5.9</td>
      <td>3.0</td>
    </tr>
  </tbody>
</table>
<p>150 rows Ã— 5 columns</p>
</div>
    <div class="colab-df-buttons">
      
  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-81b76920-6d38-4242-a110-4066083c9baa')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">
      
  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>
    
  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-81b76920-6d38-4242-a110-4066083c9baa button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-81b76920-6d38-4242-a110-4066083c9baa');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>
  
    </div>
  </div>
  </div></div>
</div>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="eksplorasi-data">
<h1>Eksplorasi Data<a class="headerlink" href="#eksplorasi-data" title="Link to this heading">#</a></h1>
<section id="statistik-deskriptif">
<h2>Statistik Deskriptif<a class="headerlink" href="#statistik-deskriptif" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Hitung statistik deskriptif</span>
<span class="n">fitur</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;sepal_length&quot;</span><span class="p">,</span> <span class="s2">&quot;sepal_width&quot;</span><span class="p">,</span> <span class="s2">&quot;petal length&quot;</span><span class="p">,</span> <span class="s2">&quot;petal width&quot;</span><span class="p">]</span>
<span class="n">stats</span> <span class="o">=</span> <span class="n">df_iris</span><span class="p">[</span><span class="n">fitur</span><span class="p">]</span><span class="o">.</span><span class="n">agg</span><span class="p">([</span><span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="s1">&#39;median&#39;</span><span class="p">,</span> <span class="s1">&#39;min&#39;</span><span class="p">,</span> <span class="s1">&#39;max&#39;</span><span class="p">])</span>

<span class="c1"># Hitung modus secara terpisah karena bisa ada lebih dari satu nilai yang dominan</span>
<span class="n">mode_values</span> <span class="o">=</span> <span class="n">df_iris</span><span class="p">[</span><span class="n">fitur</span><span class="p">]</span><span class="o">.</span><span class="n">mode</span><span class="p">()</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="c1"># Gabungkan hasilnya</span>
<span class="n">stats</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;mode&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">mode_values</span>

<span class="c1"># Cetak hasil</span>
<span class="nb">print</span><span class="p">(</span><span class="n">stats</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>        sepal_length  sepal_width  petal length  petal width
mean        5.843333        3.054      3.758667     1.198667
median      5.800000        3.000      4.350000     1.300000
min         4.300000        2.000      1.000000     0.100000
max         7.900000        4.400      6.900000     2.500000
mode        5.000000        3.000      1.500000     0.200000
</pre></div>
</div>
</div>
</div>
</section>
<section id="visualiasai-distribusi-data-yang-digabungkan">
<h2>Visualiasai distribusi data yang digabungkan<a class="headerlink" href="#visualiasai-distribusi-data-yang-digabungkan" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="c1"># Buat histogram untuk setiap fitur</span>
<span class="n">fitur</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;sepal_length&quot;</span><span class="p">,</span> <span class="s2">&quot;sepal_width&quot;</span><span class="p">,</span> <span class="s2">&quot;petal length&quot;</span><span class="p">,</span> <span class="s2">&quot;petal width&quot;</span><span class="p">]</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>  <span class="c1"># 2x2 layout</span>
<span class="n">fig</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s2">&quot;Distribusi Data Iris&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>  <span class="c1"># Judul utama</span>

<span class="c1"># Loop untuk membuat histogram pada setiap subplot</span>
<span class="k">for</span> <span class="n">ax</span><span class="p">,</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">axes</span><span class="o">.</span><span class="n">flat</span><span class="p">,</span> <span class="n">fitur</span><span class="p">):</span>
    <span class="n">df_iris</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">bins</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;skyblue&#39;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Distribusi </span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># Judul tiap subplot</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>  <span class="c1"># Label X sesuai fitur</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Frekuensi&quot;</span><span class="p">)</span>  <span class="c1"># Label Y</span>

<span class="c1"># Tampilkan plot</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">(</span><span class="n">rect</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.96</span><span class="p">])</span>  <span class="c1"># Atur layout agar tidak bertumpuk dengan judul</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/c616f595bf5660c2682d10628ee67aed37fb35151cb55dc851ceef5eacf7353e.png" src="_images/c616f595bf5660c2682d10628ee67aed37fb35151cb55dc851ceef5eacf7353e.png" />
</div>
</div>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="identifikasi-masalah-data">
<h1>Identifikasi Masalah Data<a class="headerlink" href="#identifikasi-masalah-data" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong>Missing Values:</strong> Menemukan data yang hilang atau tidak lengkap.</p></li>
<li><p><strong>Outliers:</strong> Mendeteksi nilai-nilai ekstrem yang mungkin merupakan kesalahan atau anomali.</p></li>
<li><p><strong>Duplikasi Data:</strong> Mengidentifikasi baris atau entri yang duplikat.</p></li>
<li><p><strong>Inkonsistensi:</strong> Memeriksa apakah ada ketidaksesuaian dalam format atau nilai data.</p></li>
</ul>
<section id="outliers">
<h2><strong>Outliers</strong><a class="headerlink" href="#outliers" title="Link to this heading">#</a></h2>
<p>Outlier adalah titik data yang secara signifikan berbeda dari sebagian besar data dalam suatu dataset. Outlier dapat terjadi karena beberapa alasan:</p>
<section id="penyebab-outlier">
<h3><strong>Penyebab Outlier</strong><a class="headerlink" href="#penyebab-outlier" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><strong>Kesalahan Pengukuran:</strong> Kesalahan saat mengumpulkan data, misalnya, kesalahan sensor atau human error.</p></li>
<li><p><strong>Variasi Alami:</strong> Kejadian langka atau anomali yang memang terjadi dalam data.</p></li>
<li><p><strong>Kesalahan Input Data:</strong> Kesalahan saat memasukkan data, seperti typo atau kesalahan entri.</p></li>
</ul>
</section>
<section id="dampak-outlier">
<h3><strong>Dampak Outlier</strong><a class="headerlink" href="#dampak-outlier" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><strong>Mengubah Nilai Statistik:</strong> Mean dan standar deviasi dapat terpengaruh oleh outlier.</p></li>
<li><p><strong>Mengurangi Akurasi Model:</strong> Outlier dapat menyebabkan model machine learning menjadi kurang akurat.</p></li>
<li><p><strong>Mengaburkan Pola Data:</strong> Outlier dapat menyembunyikan pola atau tren yang sebenarnya dalam data.</p></li>
</ul>
</section>
<section id="pentingnya-deteksi-outlier">
<h3><strong>Pentingnya Deteksi Outlier</strong><a class="headerlink" href="#pentingnya-deteksi-outlier" title="Link to this heading">#</a></h3>
<p>Deteksi outlier penting untuk:</p>
<ul class="simple">
<li><p><strong>Membersihkan Data:</strong> Menghapus atau memperbaiki data yang tidak valid.</p></li>
<li><p><strong>Mengidentifikasi Anomali:</strong> Mendeteksi kejadian langka atau mencurigakan, seperti fraud detection.</p></li>
<li><p><strong>Memahami Variasi Data:</strong> Mempelajari variasi atau penyimpangan dalam data.</p></li>
</ul>
</section>
</section>
<section id="k-nearest-neighbors-knn">
<h2><strong>K-Nearest Neighbors (KNN)</strong><a class="headerlink" href="#k-nearest-neighbors-knn" title="Link to this heading">#</a></h2>
<p>KNN adalah algoritma machine learning yang digunakan untuk <strong>klasifikasi</strong> dan <strong>regresi</strong>. Berikut adalah penjelasan rinci tentang KNN:</p>
<section id="prinsip-kerja-knn">
<h3><strong>Prinsip Kerja KNN</strong><a class="headerlink" href="#prinsip-kerja-knn" title="Link to this heading">#</a></h3>
<ol class="arabic simple">
<li><p><strong>Menghitung Jarak</strong> : Untuk setiap titik data, KNN menghitung jarak ke ( k ) tetangga terdekatnya. Jarak yang umum digunakan adalah Euclidean Distance.</p></li>
<li><p><strong>Klasifikasi</strong> : Untuk klasifikasi, KNN memilih kelas yang paling dominan di antara ( k ) tetangga terdekat.</p></li>
<li><p><strong>Regresi</strong> : Untuk regresi, KNN mengambil rata-rata atau median dari nilai ( k ) tetangga terdekat.</p></li>
<li><p><strong>Deteksi Outlier</strong> : KNN dapat digunakan untuk mendeteksi outlier dengan mengukur jarak suatu titik data terhadap tetangga terdekatnya. Jika jaraknya terlalu jauh, titik data tersebut dianggap sebagai outlier.</p></li>
</ol>
</section>
<section id="keunggulan-knn">
<h3><strong>Keunggulan KNN</strong><a class="headerlink" href="#keunggulan-knn" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><strong>Mudah dipahami</strong> : Algoritma KNN sederhana dan intuitif.</p></li>
<li><p><strong>Tidak Memerlukan pelatihan</strong> : KNN termasuk dalam kategori lazy learning, sehingga tidak memerlukan proses pelatihan model.</p></li>
<li><p><strong>Fleksibel</strong> : Dapat digunakan untuk klasifikasi, regresi, dan deteksi outlier.</p></li>
</ul>
</section>
<section id="kekurangan-knn">
<h3><strong>Kekurangan KNN</strong><a class="headerlink" href="#kekurangan-knn" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><strong>Komputasi Mahal</strong> : Menghitung jarak untuk dataset besar membutuhkan waktu dan sumber daya yang besar.</p></li>
<li><p><strong>Sensitif terhadap Skala Data:</strong> : KNN sangat dipengaruhi oleh skala data, sehingga data perlu dinormalisasi atau distandarisasi.</p></li>
<li><p><strong>Pemilihan ( k )</strong>: Pemilihan nilai ( k ) yang tepat sangat penting untuk kinerja model.</p></li>
</ul>
</section>
<section id="knn-untuk-deteksi-outlier">
<h3><strong>KNN untuk Deteksi Outlier</strong><a class="headerlink" href="#knn-untuk-deteksi-outlier" title="Link to this heading">#</a></h3>
<p>Dalam konteks deteksi outlier, KNN bekerja dengan :</p>
<ol class="arabic simple">
<li><p>Menghitung jarak Euclidean antara setiap titik data dan ( k ) tetangga terdekatnya.</p></li>
<li><p>Menghitung rata-rata jarak ke ( k ) tetangga terdekat.</p></li>
<li><p>Menentukan threshold untuk mengidentifikasi outlier (misalnya, menggunakan persentil ke-99).</p></li>
</ol>
</section>
</section>
<section id="proses-deteksi-outlier-menggunakan-knn">
<h2><strong>Proses Deteksi Outlier menggunakan KNN</strong><a class="headerlink" href="#proses-deteksi-outlier-menggunakan-knn" title="Link to this heading">#</a></h2>
<p>Pada contoh ini, kita akan menggunakan KNN untuk mendeteksi outlier pada dataset iris yang sudah digabung. Berikut adalah langkah-langkahnya:</p>
<section id="persiapan-data">
<h3><strong>Persiapan Data</strong><a class="headerlink" href="#persiapan-data" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Dataset dibaca dari hasil penggabungan yang disimpan pada df_iris.</p></li>
<li><p>Fitur yang digunakan adalah sepal length, sepal width, petal length, dan petal width.</p></li>
</ul>
</section>
<section id="inisialisasi-model-knn">
<h3><strong>Inisialisasi Model KNN</strong><a class="headerlink" href="#inisialisasi-model-knn" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Model KNN diinisialisasi dengan ( k = 5 ) dan metrik jarak Euclidean.</p></li>
</ul>
</section>
<section id="menghitung-jarak">
<h3><strong>Menghitung Jarak</strong><a class="headerlink" href="#menghitung-jarak" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Jarak ke ( k ) tetangga terdekat dihitung untuk setiap titik data.</p></li>
<li><p>Rata-rata jarak ke ( k ) tetangga terdekat dihitung.</p></li>
</ul>
</section>
<section id="menentukan-outlier">
<h3><strong>Menentukan Outlier</strong><a class="headerlink" href="#menentukan-outlier" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Outlier ditentukan berdasarkan threshold (persentil ke-99 dari rata-rata jarak).</p></li>
<li><p>Titik data dengan rata-rata jarak lebih besar dari threshold dianggap sebagai outlier.</p></li>
</ul>
</section>
<section id="visualisasi">
<h3><strong>Visualisasi</strong><a class="headerlink" href="#visualisasi" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Outlier divisualisasikan menggunakan scatter plot untuk dua pasangan fitur :</p>
<ul>
<li><p>petal length vs petal width.</p></li>
<li><p>sepal length vs sepal width.</p></li>
</ul>
</li>
<li><p>Outlier ditandai dengan warna merah, sedangkan data normal ditampilkan dengan warna biru.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">sklearn.neighbors</span> <span class="kn">import</span> <span class="n">NearestNeighbors</span>

<span class="c1"># Pilih fitur yang akan digunakan untuk deteksi outlier</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">df_iris</span><span class="p">[</span><span class="n">fitur</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>

<span class="c1"># Inisialisasi model KNN</span>
<span class="n">k</span> <span class="o">=</span> <span class="mi">5</span>  <span class="c1"># Jumlah tetangga terdekat</span>
<span class="n">knn</span> <span class="o">=</span> <span class="n">NearestNeighbors</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="n">k</span><span class="p">,</span> <span class="n">metric</span><span class="o">=</span><span class="s1">&#39;euclidean&#39;</span><span class="p">)</span>
<span class="n">knn</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>

<span class="c1"># Hitung jarak ke k tetangga terdekat</span>
<span class="n">distances</span><span class="p">,</span> <span class="n">indices</span> <span class="o">=</span> <span class="n">knn</span><span class="o">.</span><span class="n">kneighbors</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>

<span class="c1"># Hitung rata-rata jarak ke k tetangga terdekat</span>
<span class="n">mean_distances</span> <span class="o">=</span> <span class="n">distances</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Tentukan threshold untuk outlier</span>
<span class="n">threshold</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">mean_distances</span><span class="p">,</span> <span class="mi">99</span><span class="p">)</span><span class="c1"># Ambil 1% data dengan jarak terbesar sebagai outlier</span>

<span class="c1"># Tandai outlier</span>
<span class="n">df_iris</span><span class="p">[</span><span class="s1">&#39;outlier&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">mean_distances</span> <span class="o">&gt;</span> <span class="n">threshold</span>

<span class="c1"># Menampilkan data yang dianggap outlier</span>
<span class="n">outliers_data</span> <span class="o">=</span> <span class="n">df_iris</span><span class="p">[</span><span class="n">df_iris</span><span class="p">[</span><span class="s1">&#39;outlier&#39;</span><span class="p">]]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Outliers detected:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">outliers_data</span><span class="p">)</span>

<span class="c1"># Visualisasi untuk pasangan kolom petal length vs petal width</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

<span class="c1"># Diagram 1: Petal Length vs Petal Width</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>  <span class="c1"># 1 baris, 2 kolom, diagram pertama</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">df_iris</span><span class="p">[</span><span class="s1">&#39;petal length&#39;</span><span class="p">],</span> <span class="n">df_iris</span><span class="p">[</span><span class="s1">&#39;petal width&#39;</span><span class="p">],</span><span class="n">c</span><span class="o">=</span><span class="n">df_iris</span><span class="p">[</span><span class="s1">&#39;outlier&#39;</span><span class="p">],</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Data&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">outliers_data</span><span class="p">[</span><span class="s1">&#39;petal length&#39;</span><span class="p">],</span><span class="n">outliers_data</span><span class="p">[</span><span class="s1">&#39;petal width&#39;</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Outliers&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Petal Length&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Petal Width&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Petal Length vs Petal Width&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>

<span class="c1"># Diagram 2: Sepal Length vs Sepal Width</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>  <span class="c1"># 1 baris, 2 kolom, diagram kedua</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">df_iris</span><span class="p">[</span><span class="s1">&#39;sepal length&#39;</span><span class="p">],</span> <span class="n">df_iris</span><span class="p">[</span><span class="s1">&#39;sepal width&#39;</span><span class="p">],</span><span class="n">c</span><span class="o">=</span><span class="n">df_iris</span><span class="p">[</span><span class="s1">&#39;outlier&#39;</span><span class="p">],</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Data&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">outliers_data</span><span class="p">[</span><span class="s1">&#39;sepal length&#39;</span><span class="p">],</span><span class="n">outliers_data</span><span class="p">[</span><span class="s1">&#39;sepal width&#39;</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Outliers&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Sepal Length&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Sepal Width&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Sepal Length vs Sepal Width&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>  <span class="c1"># Agar layout tidak tumpang tindih</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Outliers detected:
      id  petal length  petal width  sepal_length  sepal_width  outlier
106  107           4.5          1.7           4.9          2.5     True
131  132           6.4          2.0           7.9          3.8     True
</pre></div>
</div>
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">KeyError</span><span class="g g-Whitespace">                                  </span>Traceback (most recent call last)
<span class="nn">/usr/local/lib/python3.11/dist-packages/pandas/core/indexes/base.py</span> in <span class="ni">get_loc</span><span class="nt">(self, key)</span>
<span class="g g-Whitespace">   </span><span class="mi">3804</span>         <span class="k">try</span><span class="p">:</span>
<span class="ne">-&gt; </span><span class="mi">3805</span>             <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="o">.</span><span class="n">get_loc</span><span class="p">(</span><span class="n">casted_key</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">3806</span>         <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>

<span class="nn">index.pyx</span> in <span class="ni">pandas._libs.index.IndexEngine.get_loc</span><span class="nt">()</span>

<span class="nn">index.pyx</span> in <span class="ni">pandas._libs.index.IndexEngine.get_loc</span><span class="nt">()</span>

<span class="nn">pandas/_libs/hashtable_class_helper.pxi</span> in <span class="ni">pandas._libs.hashtable.PyObjectHashTable.get_item</span><span class="nt">()</span>

<span class="nn">pandas/_libs/hashtable_class_helper.pxi</span> in <span class="ni">pandas._libs.hashtable.PyObjectHashTable.get_item</span><span class="nt">()</span>

<span class="ne">KeyError</span>: &#39;sepal length&#39;

<span class="n">The</span> <span class="n">above</span> <span class="n">exception</span> <span class="n">was</span> <span class="n">the</span> <span class="n">direct</span> <span class="n">cause</span> <span class="n">of</span> <span class="n">the</span> <span class="n">following</span> <span class="n">exception</span><span class="p">:</span>

<span class="ne">KeyError</span><span class="g g-Whitespace">                                  </span>Traceback (most recent call last)
<span class="nn">&lt;ipython-input-10-632b73258b23&gt;</span> in <span class="ni">&lt;cell line: 0&gt;</span><span class="nt">()</span>
<span class="g g-Whitespace">     </span><span class="mi">41</span> <span class="c1"># Diagram 2: Sepal Length vs Sepal Width</span>
<span class="g g-Whitespace">     </span><span class="mi">42</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>  <span class="c1"># 1 baris, 2 kolom, diagram kedua</span>
<span class="ne">---&gt; </span><span class="mi">43</span> <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">df_iris</span><span class="p">[</span><span class="s1">&#39;sepal length&#39;</span><span class="p">],</span> <span class="n">df_iris</span><span class="p">[</span><span class="s1">&#39;sepal width&#39;</span><span class="p">],</span><span class="n">c</span><span class="o">=</span><span class="n">df_iris</span><span class="p">[</span><span class="s1">&#39;outlier&#39;</span><span class="p">],</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Data&#39;</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">44</span> <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">outliers_data</span><span class="p">[</span><span class="s1">&#39;sepal length&#39;</span><span class="p">],</span><span class="n">outliers_data</span><span class="p">[</span><span class="s1">&#39;sepal width&#39;</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Outliers&#39;</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">45</span> <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Sepal Length&#39;</span><span class="p">)</span>

<span class="nn">/usr/local/lib/python3.11/dist-packages/pandas/core/frame.py</span> in <span class="ni">__getitem__</span><span class="nt">(self, key)</span>
<span class="g g-Whitespace">   </span><span class="mi">4100</span>             <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">nlevels</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">4101</span>                 <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getitem_multilevel</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="ne">-&gt; </span><span class="mi">4102</span>             <span class="n">indexer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">get_loc</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">4103</span>             <span class="k">if</span> <span class="n">is_integer</span><span class="p">(</span><span class="n">indexer</span><span class="p">):</span>
<span class="g g-Whitespace">   </span><span class="mi">4104</span>                 <span class="n">indexer</span> <span class="o">=</span> <span class="p">[</span><span class="n">indexer</span><span class="p">]</span>

<span class="nn">/usr/local/lib/python3.11/dist-packages/pandas/core/indexes/base.py</span> in <span class="ni">get_loc</span><span class="nt">(self, key)</span>
<span class="g g-Whitespace">   </span><span class="mi">3810</span>             <span class="p">):</span>
<span class="g g-Whitespace">   </span><span class="mi">3811</span>                 <span class="k">raise</span> <span class="n">InvalidIndexError</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="ne">-&gt; </span><span class="mi">3812</span>             <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">err</span>
<span class="g g-Whitespace">   </span><span class="mi">3813</span>         <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">3814</span>             <span class="c1"># If we have a listlike key, _check_indexing_error will raise</span>

<span class="ne">KeyError</span>: &#39;sepal length&#39;
</pre></div>
</div>
<img alt="_images/fb1e4454d26316dc3ff60a139d536a7af8595419daa5afddce8510c17b3ae494.png" src="_images/fb1e4454d26316dc3ff60a139d536a7af8595419daa5afddce8510c17b3ae494.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">pip</span> install pymysql
<span class="o">%</span><span class="k">pip</span> install psycopg2
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Collecting pymysql
  Downloading PyMySQL-1.1.1-py3-none-any.whl.metadata (4.4 kB)
Downloading PyMySQL-1.1.1-py3-none-any.whl (44 kB)
?25l   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” <span class=" -Color -Color-Green">0.0/45.0 kB</span> <span class=" -Color -Color-Red">?</span> eta <span class=" -Color -Color-Cyan">-:--:--</span>
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” <span class=" -Color -Color-Green">45.0/45.0 kB</span> <span class=" -Color -Color-Red">2.9 MB/s</span> eta <span class=" -Color -Color-Cyan">0:00:00</span>
?25hInstalling collected packages: pymysql
Successfully installed pymysql-1.1.1
Requirement already satisfied: psycopg2 in /usr/local/lib/python3.11/dist-packages (2.9.10)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">psycopg2</span>
<span class="kn">import</span> <span class="nn">pymysql</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">scipy.spatial.distance</span> <span class="kn">import</span> <span class="n">euclidean</span>

<span class="k">def</span> <span class="nf">get_pg_data</span><span class="p">():</span>
    <span class="n">conn</span> <span class="o">=</span> <span class="n">psycopg2</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
        <span class="n">host</span><span class="o">=</span><span class="s2">&quot;irispostgresql-penambangan-data.h.aivencloud.com&quot;</span><span class="p">,</span>
        <span class="n">user</span><span class="o">=</span><span class="s2">&quot;avnadmin&quot;</span><span class="p">,</span>
        <span class="n">password</span><span class="o">=</span><span class="s2">&quot;AVNS_i8oUQbmEihGJDk1ow03&quot;</span><span class="p">,</span>
        <span class="n">database</span><span class="o">=</span><span class="s2">&quot;defaultdb&quot;</span><span class="p">,</span>
        <span class="n">port</span><span class="o">=</span><span class="mi">14162</span>
    <span class="p">)</span>
    <span class="n">cursor</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;SELECT * FROM iris_postgres&quot;</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
    <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">desc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">desc</span> <span class="ow">in</span> <span class="n">cursor</span><span class="o">.</span><span class="n">description</span><span class="p">]</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">get_mysql_data</span><span class="p">():</span>
    <span class="n">conn</span> <span class="o">=</span> <span class="n">pymysql</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
        <span class="n">host</span><span class="o">=</span><span class="s2">&quot;irismysql-penambangan-data.h.aivencloud.com&quot;</span><span class="p">,</span>
        <span class="n">user</span><span class="o">=</span><span class="s2">&quot;avnadmin&quot;</span><span class="p">,</span>
        <span class="n">password</span><span class="o">=</span><span class="s2">&quot;AVNS_KHBF7rSzKcX9MR2VTEk&quot;</span><span class="p">,</span>
        <span class="n">database</span><span class="o">=</span><span class="s2">&quot;defaultdb&quot;</span><span class="p">,</span>
        <span class="n">port</span><span class="o">=</span><span class="mi">14162</span>
    <span class="p">)</span>
    <span class="n">cursor</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;SELECT * FROM iris_mysql&quot;</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
    <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">desc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">desc</span> <span class="ow">in</span> <span class="n">cursor</span><span class="o">.</span><span class="n">description</span><span class="p">]</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">)</span>

<span class="c1"># Ambil data dari kedua database</span>
<span class="n">df_postgresql</span> <span class="o">=</span> <span class="n">get_pg_data</span><span class="p">()</span>
<span class="n">df_mysql</span> <span class="o">=</span> <span class="n">get_mysql_data</span><span class="p">()</span>
<span class="n">df_postgresql</span> <span class="o">=</span> <span class="n">df_postgresql</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Class&#39;</span><span class="p">:</span> <span class="s1">&#39;class&#39;</span><span class="p">})</span>

<span class="c1"># Gabungkan berdasarkan kolom &#39;id&#39; dan &#39;Class&#39;</span>
<span class="n">df_merged</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df_mysql</span><span class="p">,</span> <span class="n">df_postgresql</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">],</span> <span class="n">how</span><span class="o">=</span><span class="s2">&quot;inner&quot;</span><span class="p">)</span>

<span class="c1"># Ambil data fitur numerik</span>
<span class="n">feature_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;petal length&quot;</span><span class="p">,</span> <span class="s2">&quot;petal width&quot;</span><span class="p">,</span> <span class="s2">&quot;sepal_length&quot;</span><span class="p">,</span> <span class="s2">&quot;sepal_width&quot;</span><span class="p">]</span>
<span class="n">data_values</span> <span class="o">=</span> <span class="n">df_merged</span><span class="p">[</span><span class="n">feature_columns</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>

<span class="c1"># Ambil referensi dari baris terakhir (baris ke-152 jika dihitung dari 1, atau index -1)</span>
<span class="n">reference_point</span> <span class="o">=</span> <span class="n">data_values</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">compute_distances</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">reference</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">euclidean</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">reference</span><span class="p">)</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">data</span><span class="p">])</span>

<span class="c1"># Hitung jarak Euclidean dari setiap baris ke referensi</span>
<span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;distance&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">compute_distances</span><span class="p">(</span><span class="n">data_values</span><span class="p">,</span> <span class="n">reference_point</span><span class="p">)</span>

<span class="c1"># Tentukan threshold outlier berdasarkan persentil ke-95 (bisa disesuaikan)</span>
<span class="n">threshold</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;distance&quot;</span><span class="p">],</span> <span class="mf">93.5</span><span class="p">)</span>
<span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;outlier&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;distance&quot;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">threshold</span>

<span class="c1"># Cetak hasil data dengan outlier</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_merged</span><span class="o">.</span><span class="n">to_string</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>

<span class="c1"># Visualisasi scatter plot dengan warna berdasarkan outlier</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;sepal_length&quot;</span><span class="p">],</span> <span class="n">y</span><span class="o">=</span><span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;sepal_width&quot;</span><span class="p">],</span>
    <span class="n">hue</span><span class="o">=</span><span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;outlier&quot;</span><span class="p">],</span> <span class="n">palette</span><span class="o">=</span><span class="p">{</span><span class="kc">False</span><span class="p">:</span> <span class="s2">&quot;blue&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">:</span> <span class="s2">&quot;red&quot;</span><span class="p">}</span>
<span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Outlier Detection (Sepal)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;petal length&quot;</span><span class="p">],</span> <span class="n">y</span><span class="o">=</span><span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;petal width&quot;</span><span class="p">],</span>
    <span class="n">hue</span><span class="o">=</span><span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;outlier&quot;</span><span class="p">],</span> <span class="n">palette</span><span class="o">=</span><span class="p">{</span><span class="kc">False</span><span class="p">:</span> <span class="s2">&quot;blue&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">:</span> <span class="s2">&quot;red&quot;</span><span class="p">}</span>
<span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Outlier Detection (Petal)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> id           Class  petal length  petal width  sepal_length  sepal_width           class  distance  outlier
  1     Iris-setosa           1.4          0.2           5.1          3.5     Iris-setosa  4.140048    False
  2     Iris-setosa           1.4          0.2           4.9          3.0     Iris-setosa  4.153312    False
  3     Iris-setosa           1.3          0.2           4.7          3.2     Iris-setosa  4.298837     True
  4     Iris-setosa           1.5          0.2           4.6          3.1     Iris-setosa  4.149699    False
  5     Iris-setosa           1.4          0.2           5.0          3.6     Iris-setosa  4.173727    False
  6     Iris-setosa           1.7          0.4           5.4          3.9     Iris-setosa  3.818377    False
  7     Iris-setosa           1.4          0.3           4.6          3.4     Iris-setosa  4.217819    False
  8     Iris-setosa           1.5          0.2           5.0          3.4     Iris-setosa  4.060788    False
  9     Iris-setosa           1.4          0.2           4.4          2.9     Iris-setosa  4.302325     True
 10     Iris-setosa           1.5          0.1           4.9          3.1     Iris-setosa  4.106093    False
 11     Iris-setosa           1.5          0.2           5.4          3.7     Iris-setosa  4.032369    False
 12     Iris-setosa           1.6          0.2           4.8          3.4     Iris-setosa  4.022437    False
 13     Iris-setosa           1.4          0.1           4.8          3.0     Iris-setosa  4.217819    False
 14     Iris-setosa           1.1          0.1           4.3          3.0     Iris-setosa  4.631414     True
 15     Iris-setosa           1.2          0.2           5.8          4.0     Iris-setosa  4.333590     True
 16     Iris-setosa           1.5          0.4           5.7          4.4     Iris-setosa  4.113393    False
 17     Iris-setosa           1.3          0.4           5.4          3.9     Iris-setosa  4.178516    False
 18     Iris-setosa           1.4          0.3           5.1          3.5     Iris-setosa  4.102438    False
 19     Iris-setosa           1.7          0.3           5.7          3.8     Iris-setosa  3.806573    False
 20     Iris-setosa           1.5          0.3           5.1          3.8     Iris-setosa  4.060788    False
 21     Iris-setosa           1.7          0.2           5.4          3.4     Iris-setosa  3.811824    False
 22     Iris-setosa           1.5          0.4           5.1          3.7     Iris-setosa  4.006245    False
 23     Iris-setosa           1.0          0.2           4.6          3.6     Iris-setosa  4.628175     True
 24     Iris-setosa           1.7          0.5           5.1          3.3     Iris-setosa  3.738984    False
 25     Iris-setosa           1.9          0.2           4.8          3.4     Iris-setosa  3.764306    False
 26     Iris-setosa           1.6          0.2           5.0          3.0     Iris-setosa  3.952215    False
 27     Iris-setosa           1.6          0.4           5.0          3.4     Iris-setosa  3.896152    False
 28     Iris-setosa           1.5          0.2           5.2          3.5     Iris-setosa  4.032369    False
 29     Iris-setosa           1.4          0.2           5.2          3.4     Iris-setosa  4.110961    False
 30     Iris-setosa           1.6          0.2           4.7          3.2     Iris-setosa  4.036087    False
 31     Iris-setosa           1.6          0.2           4.8          3.1     Iris-setosa  4.003748    False
 32     Iris-setosa           1.5          0.4           5.4          3.4     Iris-setosa  3.915354    False
 33     Iris-setosa           1.5          0.1           5.2          4.1     Iris-setosa  4.189272    False
 34     Iris-setosa           1.4          0.2           5.5          4.2     Iris-setosa  4.224926    False
 35     Iris-setosa           1.5          0.1           4.9          3.1     Iris-setosa  4.106093    False
 36     Iris-setosa           1.2          0.2           5.0          3.2     Iris-setosa  4.315090     True
 37     Iris-setosa           1.3          0.2           5.5          3.5     Iris-setosa  4.172529    False
 38     Iris-setosa           1.5          0.1           4.9          3.1     Iris-setosa  4.106093    False
 39     Iris-setosa           1.3          0.2           4.4          3.0     Iris-setosa  4.387482     True
 40     Iris-setosa           1.5          0.2           5.1          3.4     Iris-setosa  4.039802    False
 41     Iris-setosa           1.3          0.3           5.0          3.5     Iris-setosa  4.213075    False
 42     Iris-setosa           1.3          0.3           4.5          2.3     Iris-setosa  4.374929     True
 43     Iris-setosa           1.3          0.2           4.4          3.2     Iris-setosa  4.392038     True
 44     Iris-setosa           1.6          0.6           5.0          3.5     Iris-setosa  3.840573    False
 45     Iris-setosa           1.9          0.4           5.1          3.8     Iris-setosa  3.671512    False
 46     Iris-setosa           1.4          0.3           4.8          3.0     Iris-setosa  4.141256    False
 47     Iris-setosa           1.6          0.2           5.1          3.8     Iris-setosa  4.011234    False
 48     Iris-setosa           1.4          0.2           4.6          3.2     Iris-setosa  4.240283     True
 49     Iris-setosa           1.5          0.2           5.3          3.7     Iris-setosa  4.045986    False
 50     Iris-setosa           1.4          0.2           5.0          3.3     Iris-setosa  4.141256    False
 51 Iris-versicolor           4.7          1.4           7.0          3.2 Iris-versicolor  1.252996    False
 52 Iris-versicolor           4.5          1.5           6.4          3.2 Iris-versicolor  0.860233    False
 53 Iris-versicolor           4.9          1.5           6.9          3.1 Iris-versicolor  1.067708    False
 54 Iris-versicolor           4.0          1.3           5.5          2.3 Iris-versicolor  1.452584    False
 55 Iris-versicolor           4.6          1.5           6.5          2.8 Iris-versicolor  0.860233    False
 56 Iris-versicolor           4.5          1.3           5.7          2.8 Iris-versicolor  0.830662    False
 57 Iris-versicolor           4.7          1.6           6.3          3.3 Iris-versicolor  0.670820    False
 58 Iris-versicolor           3.3          1.0           4.9          2.4 Iris-versicolor  2.289105    False
 59 Iris-versicolor           4.6          1.3           6.6          2.9 Iris-versicolor  1.000000    False
 60 Iris-versicolor           3.9          1.4           5.2          2.7 Iris-versicolor  1.476482    False
 61 Iris-versicolor           3.5          1.0           5.0          2.0 Iris-versicolor  2.238303    False
 62 Iris-versicolor           4.2          1.5           5.9          3.0 Iris-versicolor  0.948683    False
 63 Iris-versicolor           4.0          1.0           6.0          2.2 Iris-versicolor  1.581139    False
 64 Iris-versicolor           4.7          1.4           6.1          2.9 Iris-versicolor  0.608276    False
 65 Iris-versicolor           3.6          1.3           5.6          2.9 Iris-versicolor  1.612452    False
 66 Iris-versicolor           4.4          1.4           6.7          3.1 Iris-versicolor  1.140175    False
 67 Iris-versicolor           4.5          1.5           5.6          3.0 Iris-versicolor  0.734847    False
 68 Iris-versicolor           4.1          1.0           5.8          2.7 Iris-versicolor  1.319091    False
 69 Iris-versicolor           4.5          1.5           6.2          2.2 Iris-versicolor  1.086278    False
 70 Iris-versicolor           3.9          1.1           5.6          2.5 Iris-versicolor  1.506652    False
 71 Iris-versicolor           4.8          1.8           5.9          3.2 Iris-versicolor  0.360555    False
 72 Iris-versicolor           4.0          1.3           6.1          2.8 Iris-versicolor  1.240967    False
 73 Iris-versicolor           4.9          1.5           6.3          2.5 Iris-versicolor  0.734847    False
 74 Iris-versicolor           4.7          1.2           6.1          2.8 Iris-versicolor  0.774597    False
 75 Iris-versicolor           4.3          1.3           6.4          2.9 Iris-versicolor  1.072381    False
 76 Iris-versicolor           4.4          1.4           6.6          3.0 Iris-versicolor  1.067708    False
 77 Iris-versicolor           4.8          1.4           6.8          2.8 Iris-versicolor  1.048809    False
 78 Iris-versicolor           5.0          1.7           6.7          3.0 Iris-versicolor  0.812404    False
 79 Iris-versicolor           4.5          1.5           6.0          2.9 Iris-versicolor  0.685565    False
 80 Iris-versicolor           3.5          1.0           5.7          2.6 Iris-versicolor  1.843909    False
 81 Iris-versicolor           3.8          1.1           5.5          2.4 Iris-versicolor  1.643168    False
 82 Iris-versicolor           3.7          1.0           5.5          2.4 Iris-versicolor  1.766352    False
 83 Iris-versicolor           3.9          1.2           5.8          2.7 Iris-versicolor  1.378405    False
 84 Iris-versicolor           5.1          1.6           6.0          2.7 Iris-versicolor  0.374166    False
 85 Iris-versicolor           4.5          1.5           5.4          3.0 Iris-versicolor  0.836660    False
 86 Iris-versicolor           4.5          1.6           6.0          3.4 Iris-versicolor  0.754983    False
 87 Iris-versicolor           4.7          1.5           6.7          3.1 Iris-versicolor  0.948683    False
 88 Iris-versicolor           4.4          1.3           6.3          2.3 Iris-versicolor  1.178983    False
 89 Iris-versicolor           4.1          1.3           5.6          3.0 Iris-versicolor  1.157584    False
 90 Iris-versicolor           4.0          1.3           5.5          2.5 Iris-versicolor  1.367479    False
 91 Iris-versicolor           4.4          1.2           5.5          2.6 Iris-versicolor  1.081665    False
 92 Iris-versicolor           4.6          1.4           6.1          3.0 Iris-versicolor  0.670820    False
 93 Iris-versicolor           4.0          1.2           5.8          2.6 Iris-versicolor  1.319091    False
 94 Iris-versicolor           3.3          1.0           5.0          2.3 Iris-versicolor  2.275961    False
 95 Iris-versicolor           4.2          1.3           5.6          2.7 Iris-versicolor  1.113553    False
 96 Iris-versicolor           4.2          1.2           5.7          3.0 Iris-versicolor  1.100000    False
 97 Iris-versicolor           4.2          1.3           5.7          2.9 Iris-versicolor  1.053565    False
 98 Iris-versicolor           4.3          1.3           6.2          2.9 Iris-versicolor  0.994987    False
 99 Iris-versicolor           3.0          1.1           5.1          2.5 Iris-versicolor  2.406242    False
100 Iris-versicolor           4.1          1.3           5.7          2.8 Iris-versicolor  1.153256    False
101  Iris-virginica           6.0          2.5           6.3          3.3  Iris-virginica  1.244990    False
102  Iris-virginica           5.1          1.9           5.8          2.7  Iris-virginica  0.331662    False
103  Iris-virginica           5.9          2.1           7.1          3.0  Iris-virginica  1.473092    False
104  Iris-virginica           5.6          1.8           6.3          2.9  Iris-virginica  0.648074    False
105  Iris-virginica           5.8          2.2           6.5          3.0  Iris-virginica  1.004988    False
106  Iris-virginica           6.6          2.1           7.6          3.0  Iris-virginica  2.286919    False
107  Iris-virginica           4.5          1.7           4.9          2.5  Iris-virginica  1.272792    False
108  Iris-virginica           6.3          1.8           7.3          2.9  Iris-virginica  1.846619    False
109  Iris-virginica           5.8          1.8           6.7          2.5  Iris-virginica  1.174734    False
110  Iris-virginica           6.1          2.5           7.2          3.6  Iris-virginica  1.881489    False
111  Iris-virginica           5.1          2.0           6.5          3.2  Iris-virginica  0.663325    False
112  Iris-virginica           5.3          1.9           6.4          2.7  Iris-virginica  0.624500    False
113  Iris-virginica           5.5          2.1           6.8          3.0  Iris-virginica  1.029563    False
114  Iris-virginica           5.0          2.0           5.7          2.5  Iris-virginica  0.583095    False
115  Iris-virginica           5.1          2.4           5.8          2.8  Iris-virginica  0.640312    False
116  Iris-virginica           5.3          2.3           6.4          3.2  Iris-virginica  0.761577    False
117  Iris-virginica           5.5          1.8           6.5          3.0  Iris-virginica  0.721110    False
118  Iris-virginica           6.7          2.2           7.7          3.8  Iris-virginica  2.569047    False
119  Iris-virginica           6.9          2.3           7.7          2.6  Iris-virginica  2.624881    False
120  Iris-virginica           5.0          1.5           6.0          2.2  Iris-virginica  0.866025    False
121  Iris-virginica           5.7          2.3           6.9          3.2  Iris-virginica  1.284523    False
122  Iris-virginica           4.9          2.0           5.6          2.8  Iris-virginica  0.458258    False
123  Iris-virginica           6.7          2.0           7.7          2.8  Iris-virginica  2.424871    False
124  Iris-virginica           4.9          1.8           6.3          2.7  Iris-virginica  0.538516    False
125  Iris-virginica           5.7          2.1           6.7          3.3  Iris-virginica  1.086278    False
126  Iris-virginica           6.0          1.8           7.2          3.2  Iris-virginica  1.593738    False
127  Iris-virginica           4.8          1.8           6.2          2.8  Iris-virginica  0.469042    False
128  Iris-virginica           4.9          1.8           6.1          3.0  Iris-virginica  0.282843    False
129  Iris-virginica           5.6          2.1           6.4          2.8  Iris-virginica  0.793725    False
130  Iris-virginica           5.8          1.6           7.2          3.0  Iris-virginica  1.489966    False
131  Iris-virginica           6.1          1.9           7.4          2.8  Iris-virginica  1.816590    False
132  Iris-virginica           6.4          2.0           7.9          3.8  Iris-virginica  2.523886    False
133  Iris-virginica           5.6          2.2           6.4          2.8  Iris-virginica  0.836660    False
134  Iris-virginica           5.1          1.5           6.3          2.8  Iris-virginica  0.538516    False
135  Iris-virginica           5.6          1.4           6.1          2.6  Iris-virginica  0.781025    False
136  Iris-virginica           6.1          2.3           7.7          3.0  Iris-virginica  2.118962    False
137  Iris-virginica           5.6          2.4           6.3          3.4  Iris-virginica  0.964365    False
138  Iris-virginica           5.5          1.8           6.4          3.1  Iris-virginica  0.648074    False
139  Iris-virginica           4.8          1.8           6.0          3.0  Iris-virginica  0.316228    False
140  Iris-virginica           5.4          2.1           6.9          3.1  Iris-virginica  1.090871    False
141  Iris-virginica           5.6          2.4           6.7          3.1  Iris-virginica  1.122497    False
142  Iris-virginica           5.1          2.3           6.9          3.1  Iris-virginica  1.122497    False
143  Iris-virginica           5.1          1.9           5.8          2.7  Iris-virginica  0.331662    False
144  Iris-virginica           5.9          2.3           6.8          3.2  Iris-virginica  1.319091    False
145  Iris-virginica           5.7          2.5           6.7          3.3  Iris-virginica  1.256981    False
146  Iris-virginica           5.2          2.3           6.7          3.0  Iris-virginica  0.948683    False
147  Iris-virginica           5.0          1.9           6.3          2.5  Iris-virginica  0.655744    False
148  Iris-virginica           5.2          2.0           6.5          3.0  Iris-virginica  0.640312    False
149  Iris-virginica           5.4          2.3           6.2          3.4  Iris-virginica  0.768115    False
150  Iris-virginica           5.1          1.8           5.9          3.0  Iris-virginica  0.000000    False
</pre></div>
</div>
<img alt="_images/c23c1a199aee39de984c7d054b5a1ccc883aa57a02f6849b6be3f58700bd0aad.png" src="_images/c23c1a199aee39de984c7d054b5a1ccc883aa57a02f6849b6be3f58700bd0aad.png" />
<img alt="_images/ad56a40ea104c600ae6f5c573e40c15f40989e711c7d8a84040c4b92e16b8619.png" src="_images/ad56a40ea104c600ae6f5c573e40c15f40989e711c7d8a84040c4b92e16b8619.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Hitung total outlier</span>
<span class="n">total_outliers</span> <span class="o">=</span> <span class="p">(</span><span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;outlier&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Total Outlier: </span><span class="si">{</span><span class="n">total_outliers</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># outliers = df_merged[df_merged[&quot;outlier&quot;] == -1]</span>
<span class="c1"># print(outliers)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Total Outlier: 6
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Urutkan data berdasarkan jarak dari terkecil ke terbesar</span>
<span class="n">df_sorted</span> <span class="o">=</span> <span class="n">df_merged</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s2">&quot;distance&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Tampilkan hasilnya</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_sorted</span><span class="o">.</span><span class="n">to_string</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> id           Class  petal length  petal width  sepal_length  sepal_width           class  distance  outlier
150  Iris-virginica           5.1          1.8           5.9          3.0  Iris-virginica  0.000000    False
128  Iris-virginica           4.9          1.8           6.1          3.0  Iris-virginica  0.282843    False
139  Iris-virginica           4.8          1.8           6.0          3.0  Iris-virginica  0.316228    False
143  Iris-virginica           5.1          1.9           5.8          2.7  Iris-virginica  0.331662    False
102  Iris-virginica           5.1          1.9           5.8          2.7  Iris-virginica  0.331662    False
 71 Iris-versicolor           4.8          1.8           5.9          3.2 Iris-versicolor  0.360555    False
 84 Iris-versicolor           5.1          1.6           6.0          2.7 Iris-versicolor  0.374166    False
122  Iris-virginica           4.9          2.0           5.6          2.8  Iris-virginica  0.458258    False
127  Iris-virginica           4.8          1.8           6.2          2.8  Iris-virginica  0.469042    False
124  Iris-virginica           4.9          1.8           6.3          2.7  Iris-virginica  0.538516    False
134  Iris-virginica           5.1          1.5           6.3          2.8  Iris-virginica  0.538516    False
114  Iris-virginica           5.0          2.0           5.7          2.5  Iris-virginica  0.583095    False
 64 Iris-versicolor           4.7          1.4           6.1          2.9 Iris-versicolor  0.608276    False
112  Iris-virginica           5.3          1.9           6.4          2.7  Iris-virginica  0.624500    False
148  Iris-virginica           5.2          2.0           6.5          3.0  Iris-virginica  0.640312    False
115  Iris-virginica           5.1          2.4           5.8          2.8  Iris-virginica  0.640312    False
104  Iris-virginica           5.6          1.8           6.3          2.9  Iris-virginica  0.648074    False
138  Iris-virginica           5.5          1.8           6.4          3.1  Iris-virginica  0.648074    False
147  Iris-virginica           5.0          1.9           6.3          2.5  Iris-virginica  0.655744    False
111  Iris-virginica           5.1          2.0           6.5          3.2  Iris-virginica  0.663325    False
 57 Iris-versicolor           4.7          1.6           6.3          3.3 Iris-versicolor  0.670820    False
 92 Iris-versicolor           4.6          1.4           6.1          3.0 Iris-versicolor  0.670820    False
 79 Iris-versicolor           4.5          1.5           6.0          2.9 Iris-versicolor  0.685565    False
117  Iris-virginica           5.5          1.8           6.5          3.0  Iris-virginica  0.721110    False
 73 Iris-versicolor           4.9          1.5           6.3          2.5 Iris-versicolor  0.734847    False
 67 Iris-versicolor           4.5          1.5           5.6          3.0 Iris-versicolor  0.734847    False
 86 Iris-versicolor           4.5          1.6           6.0          3.4 Iris-versicolor  0.754983    False
116  Iris-virginica           5.3          2.3           6.4          3.2  Iris-virginica  0.761577    False
149  Iris-virginica           5.4          2.3           6.2          3.4  Iris-virginica  0.768115    False
 74 Iris-versicolor           4.7          1.2           6.1          2.8 Iris-versicolor  0.774597    False
135  Iris-virginica           5.6          1.4           6.1          2.6  Iris-virginica  0.781025    False
129  Iris-virginica           5.6          2.1           6.4          2.8  Iris-virginica  0.793725    False
 78 Iris-versicolor           5.0          1.7           6.7          3.0 Iris-versicolor  0.812404    False
 56 Iris-versicolor           4.5          1.3           5.7          2.8 Iris-versicolor  0.830662    False
 85 Iris-versicolor           4.5          1.5           5.4          3.0 Iris-versicolor  0.836660    False
133  Iris-virginica           5.6          2.2           6.4          2.8  Iris-virginica  0.836660    False
 52 Iris-versicolor           4.5          1.5           6.4          3.2 Iris-versicolor  0.860233    False
 55 Iris-versicolor           4.6          1.5           6.5          2.8 Iris-versicolor  0.860233    False
120  Iris-virginica           5.0          1.5           6.0          2.2  Iris-virginica  0.866025    False
 62 Iris-versicolor           4.2          1.5           5.9          3.0 Iris-versicolor  0.948683    False
 87 Iris-versicolor           4.7          1.5           6.7          3.1 Iris-versicolor  0.948683    False
146  Iris-virginica           5.2          2.3           6.7          3.0  Iris-virginica  0.948683    False
137  Iris-virginica           5.6          2.4           6.3          3.4  Iris-virginica  0.964365    False
 98 Iris-versicolor           4.3          1.3           6.2          2.9 Iris-versicolor  0.994987    False
 59 Iris-versicolor           4.6          1.3           6.6          2.9 Iris-versicolor  1.000000    False
105  Iris-virginica           5.8          2.2           6.5          3.0  Iris-virginica  1.004988    False
113  Iris-virginica           5.5          2.1           6.8          3.0  Iris-virginica  1.029563    False
 77 Iris-versicolor           4.8          1.4           6.8          2.8 Iris-versicolor  1.048809    False
 97 Iris-versicolor           4.2          1.3           5.7          2.9 Iris-versicolor  1.053565    False
 76 Iris-versicolor           4.4          1.4           6.6          3.0 Iris-versicolor  1.067708    False
 53 Iris-versicolor           4.9          1.5           6.9          3.1 Iris-versicolor  1.067708    False
 75 Iris-versicolor           4.3          1.3           6.4          2.9 Iris-versicolor  1.072381    False
 91 Iris-versicolor           4.4          1.2           5.5          2.6 Iris-versicolor  1.081665    False
 69 Iris-versicolor           4.5          1.5           6.2          2.2 Iris-versicolor  1.086278    False
125  Iris-virginica           5.7          2.1           6.7          3.3  Iris-virginica  1.086278    False
140  Iris-virginica           5.4          2.1           6.9          3.1  Iris-virginica  1.090871    False
 96 Iris-versicolor           4.2          1.2           5.7          3.0 Iris-versicolor  1.100000    False
 95 Iris-versicolor           4.2          1.3           5.6          2.7 Iris-versicolor  1.113553    False
141  Iris-virginica           5.6          2.4           6.7          3.1  Iris-virginica  1.122497    False
142  Iris-virginica           5.1          2.3           6.9          3.1  Iris-virginica  1.122497    False
 66 Iris-versicolor           4.4          1.4           6.7          3.1 Iris-versicolor  1.140175    False
100 Iris-versicolor           4.1          1.3           5.7          2.8 Iris-versicolor  1.153256    False
 89 Iris-versicolor           4.1          1.3           5.6          3.0 Iris-versicolor  1.157584    False
109  Iris-virginica           5.8          1.8           6.7          2.5  Iris-virginica  1.174734    False
 88 Iris-versicolor           4.4          1.3           6.3          2.3 Iris-versicolor  1.178983    False
 72 Iris-versicolor           4.0          1.3           6.1          2.8 Iris-versicolor  1.240967    False
101  Iris-virginica           6.0          2.5           6.3          3.3  Iris-virginica  1.244990    False
 51 Iris-versicolor           4.7          1.4           7.0          3.2 Iris-versicolor  1.252996    False
145  Iris-virginica           5.7          2.5           6.7          3.3  Iris-virginica  1.256981    False
107  Iris-virginica           4.5          1.7           4.9          2.5  Iris-virginica  1.272792    False
121  Iris-virginica           5.7          2.3           6.9          3.2  Iris-virginica  1.284523    False
 93 Iris-versicolor           4.0          1.2           5.8          2.6 Iris-versicolor  1.319091    False
144  Iris-virginica           5.9          2.3           6.8          3.2  Iris-virginica  1.319091    False
 68 Iris-versicolor           4.1          1.0           5.8          2.7 Iris-versicolor  1.319091    False
 90 Iris-versicolor           4.0          1.3           5.5          2.5 Iris-versicolor  1.367479    False
 83 Iris-versicolor           3.9          1.2           5.8          2.7 Iris-versicolor  1.378405    False
 54 Iris-versicolor           4.0          1.3           5.5          2.3 Iris-versicolor  1.452584    False
103  Iris-virginica           5.9          2.1           7.1          3.0  Iris-virginica  1.473092    False
 60 Iris-versicolor           3.9          1.4           5.2          2.7 Iris-versicolor  1.476482    False
130  Iris-virginica           5.8          1.6           7.2          3.0  Iris-virginica  1.489966    False
 70 Iris-versicolor           3.9          1.1           5.6          2.5 Iris-versicolor  1.506652    False
 63 Iris-versicolor           4.0          1.0           6.0          2.2 Iris-versicolor  1.581139    False
126  Iris-virginica           6.0          1.8           7.2          3.2  Iris-virginica  1.593738    False
 65 Iris-versicolor           3.6          1.3           5.6          2.9 Iris-versicolor  1.612452    False
 81 Iris-versicolor           3.8          1.1           5.5          2.4 Iris-versicolor  1.643168    False
 82 Iris-versicolor           3.7          1.0           5.5          2.4 Iris-versicolor  1.766352    False
131  Iris-virginica           6.1          1.9           7.4          2.8  Iris-virginica  1.816590    False
 80 Iris-versicolor           3.5          1.0           5.7          2.6 Iris-versicolor  1.843909    False
108  Iris-virginica           6.3          1.8           7.3          2.9  Iris-virginica  1.846619    False
110  Iris-virginica           6.1          2.5           7.2          3.6  Iris-virginica  1.881489    False
136  Iris-virginica           6.1          2.3           7.7          3.0  Iris-virginica  2.118962    False
 61 Iris-versicolor           3.5          1.0           5.0          2.0 Iris-versicolor  2.238303    False
 94 Iris-versicolor           3.3          1.0           5.0          2.3 Iris-versicolor  2.275961    False
106  Iris-virginica           6.6          2.1           7.6          3.0  Iris-virginica  2.286919    False
 58 Iris-versicolor           3.3          1.0           4.9          2.4 Iris-versicolor  2.289105    False
 99 Iris-versicolor           3.0          1.1           5.1          2.5 Iris-versicolor  2.406242    False
123  Iris-virginica           6.7          2.0           7.7          2.8  Iris-virginica  2.424871    False
132  Iris-virginica           6.4          2.0           7.9          3.8  Iris-virginica  2.523886    False
118  Iris-virginica           6.7          2.2           7.7          3.8  Iris-virginica  2.569047    False
119  Iris-virginica           6.9          2.3           7.7          2.6  Iris-virginica  2.624881    False
 45     Iris-setosa           1.9          0.4           5.1          3.8     Iris-setosa  3.671512    False
 24     Iris-setosa           1.7          0.5           5.1          3.3     Iris-setosa  3.738984    False
 25     Iris-setosa           1.9          0.2           4.8          3.4     Iris-setosa  3.764306    False
 19     Iris-setosa           1.7          0.3           5.7          3.8     Iris-setosa  3.806573    False
 21     Iris-setosa           1.7          0.2           5.4          3.4     Iris-setosa  3.811824    False
  6     Iris-setosa           1.7          0.4           5.4          3.9     Iris-setosa  3.818377    False
 44     Iris-setosa           1.6          0.6           5.0          3.5     Iris-setosa  3.840573    False
 27     Iris-setosa           1.6          0.4           5.0          3.4     Iris-setosa  3.896152    False
 32     Iris-setosa           1.5          0.4           5.4          3.4     Iris-setosa  3.915354    False
 26     Iris-setosa           1.6          0.2           5.0          3.0     Iris-setosa  3.952215    False
 31     Iris-setosa           1.6          0.2           4.8          3.1     Iris-setosa  4.003748    False
 22     Iris-setosa           1.5          0.4           5.1          3.7     Iris-setosa  4.006245    False
 47     Iris-setosa           1.6          0.2           5.1          3.8     Iris-setosa  4.011234    False
 12     Iris-setosa           1.6          0.2           4.8          3.4     Iris-setosa  4.022437    False
 11     Iris-setosa           1.5          0.2           5.4          3.7     Iris-setosa  4.032369    False
 28     Iris-setosa           1.5          0.2           5.2          3.5     Iris-setosa  4.032369    False
 30     Iris-setosa           1.6          0.2           4.7          3.2     Iris-setosa  4.036087    False
 40     Iris-setosa           1.5          0.2           5.1          3.4     Iris-setosa  4.039802    False
 49     Iris-setosa           1.5          0.2           5.3          3.7     Iris-setosa  4.045986    False
 20     Iris-setosa           1.5          0.3           5.1          3.8     Iris-setosa  4.060788    False
  8     Iris-setosa           1.5          0.2           5.0          3.4     Iris-setosa  4.060788    False
 18     Iris-setosa           1.4          0.3           5.1          3.5     Iris-setosa  4.102438    False
 10     Iris-setosa           1.5          0.1           4.9          3.1     Iris-setosa  4.106093    False
 35     Iris-setosa           1.5          0.1           4.9          3.1     Iris-setosa  4.106093    False
 38     Iris-setosa           1.5          0.1           4.9          3.1     Iris-setosa  4.106093    False
 29     Iris-setosa           1.4          0.2           5.2          3.4     Iris-setosa  4.110961    False
 16     Iris-setosa           1.5          0.4           5.7          4.4     Iris-setosa  4.113393    False
  1     Iris-setosa           1.4          0.2           5.1          3.5     Iris-setosa  4.140048    False
 50     Iris-setosa           1.4          0.2           5.0          3.3     Iris-setosa  4.141256    False
 46     Iris-setosa           1.4          0.3           4.8          3.0     Iris-setosa  4.141256    False
  4     Iris-setosa           1.5          0.2           4.6          3.1     Iris-setosa  4.149699    False
  2     Iris-setosa           1.4          0.2           4.9          3.0     Iris-setosa  4.153312    False
 37     Iris-setosa           1.3          0.2           5.5          3.5     Iris-setosa  4.172529    False
  5     Iris-setosa           1.4          0.2           5.0          3.6     Iris-setosa  4.173727    False
 17     Iris-setosa           1.3          0.4           5.4          3.9     Iris-setosa  4.178516    False
 33     Iris-setosa           1.5          0.1           5.2          4.1     Iris-setosa  4.189272    False
 41     Iris-setosa           1.3          0.3           5.0          3.5     Iris-setosa  4.213075    False
  7     Iris-setosa           1.4          0.3           4.6          3.4     Iris-setosa  4.217819    False
 13     Iris-setosa           1.4          0.1           4.8          3.0     Iris-setosa  4.217819    False
 34     Iris-setosa           1.4          0.2           5.5          4.2     Iris-setosa  4.224926    False
 48     Iris-setosa           1.4          0.2           4.6          3.2     Iris-setosa  4.240283     True
  3     Iris-setosa           1.3          0.2           4.7          3.2     Iris-setosa  4.298837     True
  9     Iris-setosa           1.4          0.2           4.4          2.9     Iris-setosa  4.302325     True
 36     Iris-setosa           1.2          0.2           5.0          3.2     Iris-setosa  4.315090     True
 15     Iris-setosa           1.2          0.2           5.8          4.0     Iris-setosa  4.333590     True
 42     Iris-setosa           1.3          0.3           4.5          2.3     Iris-setosa  4.374929     True
 39     Iris-setosa           1.3          0.2           4.4          3.0     Iris-setosa  4.387482     True
 43     Iris-setosa           1.3          0.2           4.4          3.2     Iris-setosa  4.392038     True
 23     Iris-setosa           1.0          0.2           4.6          3.6     Iris-setosa  4.628175     True
 14     Iris-setosa           1.1          0.1           4.3          3.0     Iris-setosa  4.631414     True
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">load_iris</span>
<span class="kn">from</span> <span class="nn">sklearn.neighbors</span> <span class="kn">import</span> <span class="n">LocalOutlierFactor</span>

<span class="c1"># Load dataset Iris</span>
<span class="n">iris</span> <span class="o">=</span> <span class="n">load_iris</span><span class="p">()</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">iris</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">iris</span><span class="o">.</span><span class="n">feature_names</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">iris</span><span class="o">.</span><span class="n">data</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>

<span class="c1"># Ubah nama kolom agar sesuai dengan permintaan</span>
<span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;sepal_length&quot;</span><span class="p">,</span> <span class="s2">&quot;sepal_width&quot;</span><span class="p">,</span> <span class="s2">&quot;petal length&quot;</span><span class="p">,</span> <span class="s2">&quot;petal width&quot;</span><span class="p">]</span>

<span class="c1"># Tidak ada proses merge, jadi gunakan df langsung</span>
<span class="n">df_merged</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># Ambil fitur yang akan digunakan</span>
<span class="n">feature_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;petal length&quot;</span><span class="p">,</span> <span class="s2">&quot;petal width&quot;</span><span class="p">,</span> <span class="s2">&quot;sepal_length&quot;</span><span class="p">,</span> <span class="s2">&quot;sepal_width&quot;</span><span class="p">]</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">df_merged</span><span class="p">[</span><span class="n">feature_columns</span><span class="p">]</span>

<span class="c1"># Inisialisasi model Local Outlier Factor</span>
<span class="n">clf</span> <span class="o">=</span> <span class="n">LocalOutlierFactor</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>

<span class="c1"># Prediksi outlier (-1 = outlier, 1 = inlier)</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">clf</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>

<span class="c1"># Tambahkan hasil prediksi ke dalam DataFrame</span>
<span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;outlier&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">y_pred</span>

<span class="c1"># Tampilkan beberapa data pertama</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_merged</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>

<span class="c1"># Hitung jumlah inlier dan outlier</span>
<span class="n">outlier_count</span> <span class="o">=</span> <span class="p">(</span><span class="n">y_pred</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">inlier_count</span> <span class="o">=</span> <span class="p">(</span><span class="n">y_pred</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Jumlah Inlier: </span><span class="si">{</span><span class="n">inlier_count</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Jumlah Outlier: </span><span class="si">{</span><span class="n">outlier_count</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>


<span class="n">df_cleaned</span> <span class="o">=</span> <span class="n">df_merged</span><span class="p">[</span><span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;outlier&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">]</span>  <span class="c1"># Hanya ambil inlier (1)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Jumlah data setelah pembersihan: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">df_cleaned</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">df_cleaned</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>   sepal_length  sepal_width  petal length  petal width  outlier
1           5.1          3.5           1.4          0.2        1
2           4.9          3.0           1.4          0.2        1
3           4.7          3.2           1.3          0.2        1
4           4.6          3.1           1.5          0.2        1
5           5.0          3.6           1.4          0.2        1

Jumlah Inlier: 144
Jumlah Outlier: 6

Jumlah data setelah pembersihan: 144
   sepal_length  sepal_width  petal length  petal width  outlier
1           5.1          3.5           1.4          0.2        1
2           4.9          3.0           1.4          0.2        1
3           4.7          3.2           1.3          0.2        1
4           4.6          3.1           1.5          0.2        1
5           5.0          3.6           1.4          0.2        1
</pre></div>
</div>
</div>
</div>
<hr class="docutils" />
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">psycopg2</span>
<span class="kn">import</span> <span class="nn">pymysql</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">sklearn.neighbors</span> <span class="kn">import</span> <span class="n">NearestNeighbors</span>

<span class="k">def</span> <span class="nf">get_pg_data</span><span class="p">():</span>
    <span class="n">conn</span> <span class="o">=</span> <span class="n">psycopg2</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
        <span class="n">host</span><span class="o">=</span><span class="s2">&quot;irispostgresql-penambangan-data.h.aivencloud.com&quot;</span><span class="p">,</span>
        <span class="n">user</span><span class="o">=</span><span class="s2">&quot;avnadmin&quot;</span><span class="p">,</span>
        <span class="n">password</span><span class="o">=</span><span class="s2">&quot;AVNS_i8oUQbmEihGJDk1ow03&quot;</span><span class="p">,</span>
        <span class="n">database</span><span class="o">=</span><span class="s2">&quot;defaultdb&quot;</span><span class="p">,</span>
        <span class="n">port</span><span class="o">=</span><span class="mi">14162</span>
    <span class="p">)</span>
    <span class="n">cursor</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;SELECT * FROM iris_postgres&quot;</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
    <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">desc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">desc</span> <span class="ow">in</span> <span class="n">cursor</span><span class="o">.</span><span class="n">description</span><span class="p">]</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">get_mysql_data</span><span class="p">():</span>
    <span class="n">conn</span> <span class="o">=</span> <span class="n">pymysql</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
        <span class="n">host</span><span class="o">=</span><span class="s2">&quot;irismysql-penambangan-data.h.aivencloud.com&quot;</span><span class="p">,</span>
        <span class="n">user</span><span class="o">=</span><span class="s2">&quot;avnadmin&quot;</span><span class="p">,</span>
        <span class="n">password</span><span class="o">=</span><span class="s2">&quot;AVNS_KHBF7rSzKcX9MR2VTEk&quot;</span><span class="p">,</span>
        <span class="n">database</span><span class="o">=</span><span class="s2">&quot;defaultdb&quot;</span><span class="p">,</span>
        <span class="n">port</span><span class="o">=</span><span class="mi">14162</span>
    <span class="p">)</span>
    <span class="n">cursor</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;SELECT * FROM iris_mysql&quot;</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
    <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">desc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">desc</span> <span class="ow">in</span> <span class="n">cursor</span><span class="o">.</span><span class="n">description</span><span class="p">]</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">)</span>

<span class="c1"># Ambil data dari kedua database</span>
<span class="n">df_postgresql</span> <span class="o">=</span> <span class="n">get_pg_data</span><span class="p">()</span>
<span class="n">df_mysql</span> <span class="o">=</span> <span class="n">get_mysql_data</span><span class="p">()</span>
<span class="n">df_postgresql</span> <span class="o">=</span> <span class="n">df_postgresql</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Class&#39;</span><span class="p">:</span> <span class="s1">&#39;class&#39;</span><span class="p">})</span>

<span class="c1"># Gabungkan berdasarkan kolom &#39;id&#39;</span>
<span class="n">df_merged</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df_mysql</span><span class="p">,</span> <span class="n">df_postgresql</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">],</span> <span class="n">how</span><span class="o">=</span><span class="s2">&quot;inner&quot;</span><span class="p">)</span>

<span class="c1"># Ambil data fitur numerik</span>
<span class="n">feature_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;petal length&quot;</span><span class="p">,</span> <span class="s2">&quot;petal width&quot;</span><span class="p">,</span> <span class="s2">&quot;sepal_length&quot;</span><span class="p">,</span> <span class="s2">&quot;sepal_width&quot;</span><span class="p">]</span>
<span class="n">data_values</span> <span class="o">=</span> <span class="n">df_merged</span><span class="p">[</span><span class="n">feature_columns</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>

<span class="c1"># KNN Outlier Detection</span>
<span class="k">def</span> <span class="nf">knn_outlier_detection</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
    <span class="n">neigh</span> <span class="o">=</span> <span class="n">NearestNeighbors</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="n">k</span><span class="p">)</span>
    <span class="n">neigh</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">distances</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">neigh</span><span class="o">.</span><span class="n">kneighbors</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">avg_distances</span> <span class="o">=</span> <span class="n">distances</span><span class="p">[:,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span>  <span class="c1"># Ambil jarak k-terjauh sebagai skor</span>
    <span class="k">return</span> <span class="n">avg_distances</span>

<span class="c1"># Hitung K-NN distance</span>
<span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;knn_distance&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">knn_outlier_detection</span><span class="p">(</span><span class="n">data_values</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

<span class="c1"># Tentukan threshold sebagai nilai rata-rata + 2 standar deviasi</span>
<span class="n">threshold</span> <span class="o">=</span> <span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;knn_distance&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;knn_distance&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">std</span><span class="p">()</span>
<span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;outlier_knn&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;knn_distance&quot;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">threshold</span>

<span class="c1"># Cetak hasil</span>
<span class="n">df_result</span> <span class="o">=</span> <span class="n">df_merged</span><span class="p">[[</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;class&quot;</span><span class="p">,</span> <span class="s2">&quot;petal length&quot;</span><span class="p">,</span> <span class="s2">&quot;petal width&quot;</span><span class="p">,</span> <span class="s2">&quot;sepal_length&quot;</span><span class="p">,</span> <span class="s2">&quot;sepal_width&quot;</span><span class="p">,</span> <span class="s2">&quot;knn_distance&quot;</span><span class="p">,</span> <span class="s2">&quot;outlier_knn&quot;</span><span class="p">]]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_result</span><span class="o">.</span><span class="n">to_string</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
<span class="n">num_outliers</span> <span class="o">=</span> <span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;outlier_knn&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Jumlah outlier: </span><span class="si">{</span><span class="n">num_outliers</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Cetak data outlier</span>
<span class="n">outliers</span> <span class="o">=</span> <span class="n">df_merged</span><span class="p">[</span><span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;outlier_knn&quot;</span><span class="p">]]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Data Outlier:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">outliers</span><span class="o">.</span><span class="n">to_string</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>

<span class="c1"># Visualisasi outlier berdasarkan K-NN</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;sepal_length&quot;</span><span class="p">],</span> <span class="n">y</span><span class="o">=</span><span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;sepal_width&quot;</span><span class="p">],</span>
    <span class="n">hue</span><span class="o">=</span><span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;outlier_knn&quot;</span><span class="p">],</span> <span class="n">palette</span><span class="o">=</span><span class="p">{</span><span class="kc">False</span><span class="p">:</span> <span class="s2">&quot;blue&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">:</span> <span class="s2">&quot;red&quot;</span><span class="p">}</span>
<span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Outlier Detection (Sepal) - KNN&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;petal length&quot;</span><span class="p">],</span> <span class="n">y</span><span class="o">=</span><span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;petal width&quot;</span><span class="p">],</span>
    <span class="n">hue</span><span class="o">=</span><span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;outlier_knn&quot;</span><span class="p">],</span> <span class="n">palette</span><span class="o">=</span><span class="p">{</span><span class="kc">False</span><span class="p">:</span> <span class="s2">&quot;blue&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">:</span> <span class="s2">&quot;red&quot;</span><span class="p">}</span>
<span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Outlier Detection (Petal) - KNN&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> id           class  petal length  petal width  sepal_length  sepal_width  knn_distance  outlier_knn
  1     Iris-setosa           1.4          0.2           5.1          3.5      0.141421        False
  2     Iris-setosa           1.4          0.2           4.9          3.0      0.173205        False
  3     Iris-setosa           1.3          0.2           4.7          3.2      0.264575        False
  4     Iris-setosa           1.5          0.2           4.6          3.1      0.244949        False
  5     Iris-setosa           1.4          0.2           5.0          3.6      0.223607        False
  6     Iris-setosa           1.7          0.4           5.4          3.9      0.374166        False
  7     Iris-setosa           1.4          0.3           4.6          3.4      0.316228        False
  8     Iris-setosa           1.5          0.2           5.0          3.4      0.200000        False
  9     Iris-setosa           1.4          0.2           4.4          2.9      0.346410        False
 10     Iris-setosa           1.5          0.1           4.9          3.1      0.173205        False
 11     Iris-setosa           1.5          0.2           5.4          3.7      0.331662        False
 12     Iris-setosa           1.6          0.2           4.8          3.4      0.300000        False
 13     Iris-setosa           1.4          0.1           4.8          3.0      0.173205        False
 14     Iris-setosa           1.1          0.1           4.3          3.0      0.479583        False
 15     Iris-setosa           1.2          0.2           5.8          4.0      0.556776        False
 16     Iris-setosa           1.5          0.4           5.7          4.4      0.616441        False
 17     Iris-setosa           1.3          0.4           5.4          3.9      0.387298        False
 18     Iris-setosa           1.4          0.3           5.1          3.5      0.173205        False
 19     Iris-setosa           1.7          0.3           5.7          3.8      0.509902        False
 20     Iris-setosa           1.5          0.3           5.1          3.8      0.264575        False
 21     Iris-setosa           1.7          0.2           5.4          3.4      0.360555        False
 22     Iris-setosa           1.5          0.4           5.1          3.7      0.264575        False
 23     Iris-setosa           1.0          0.2           4.6          3.6      0.538516        False
 24     Iris-setosa           1.7          0.5           5.1          3.3      0.387298        False
 25     Iris-setosa           1.9          0.2           4.8          3.4      0.424264        False
 26     Iris-setosa           1.6          0.2           5.0          3.0      0.223607        False
 27     Iris-setosa           1.6          0.4           5.0          3.4      0.244949        False
 28     Iris-setosa           1.5          0.2           5.2          3.5      0.173205        False
 29     Iris-setosa           1.4          0.2           5.2          3.4      0.173205        False
 30     Iris-setosa           1.6          0.2           4.7          3.2      0.223607        False
 31     Iris-setosa           1.6          0.2           4.8          3.1      0.173205        False
 32     Iris-setosa           1.5          0.4           5.4          3.4      0.316228        False
 33     Iris-setosa           1.5          0.1           5.2          4.1      0.424264        False
 34     Iris-setosa           1.4          0.2           5.5          4.2      0.412311        False
 35     Iris-setosa           1.5          0.1           4.9          3.1      0.173205        False
 36     Iris-setosa           1.2          0.2           5.0          3.2      0.331662        False
 37     Iris-setosa           1.3          0.2           5.5          3.5      0.346410        False
 38     Iris-setosa           1.5          0.1           4.9          3.1      0.173205        False
 39     Iris-setosa           1.3          0.2           4.4          3.0      0.300000        False
 40     Iris-setosa           1.5          0.2           5.1          3.4      0.141421        False
 41     Iris-setosa           1.3          0.3           5.0          3.5      0.244949        False
 42     Iris-setosa           1.3          0.3           4.5          2.3      0.781025         True
 43     Iris-setosa           1.3          0.2           4.4          3.2      0.300000        False
 44     Iris-setosa           1.6          0.6           5.0          3.5      0.374166        False
 45     Iris-setosa           1.9          0.4           5.1          3.8      0.412311        False
 46     Iris-setosa           1.4          0.3           4.8          3.0      0.264575        False
 47     Iris-setosa           1.6          0.2           5.1          3.8      0.300000        False
 48     Iris-setosa           1.4          0.2           4.6          3.2      0.223607        False
 49     Iris-setosa           1.5          0.2           5.3          3.7      0.244949        False
 50     Iris-setosa           1.4          0.2           5.0          3.3      0.223607        False
 51 Iris-versicolor           4.7          1.4           7.0          3.2      0.458258        False
 52 Iris-versicolor           4.5          1.5           6.4          3.2      0.374166        False
 53 Iris-versicolor           4.9          1.5           6.9          3.1      0.346410        False
 54 Iris-versicolor           4.0          1.3           5.5          2.3      0.435890        False
 55 Iris-versicolor           4.6          1.5           6.5          2.8      0.374166        False
 56 Iris-versicolor           4.5          1.3           5.7          2.8      0.331662        False
 57 Iris-versicolor           4.7          1.6           6.3          3.3      0.458258        False
 58 Iris-versicolor           3.3          1.0           4.9          2.4      0.721110        False
 59 Iris-versicolor           4.6          1.3           6.6          2.9      0.316228        False
 60 Iris-versicolor           3.9          1.4           5.2          2.7      0.529150        False
 61 Iris-versicolor           3.5          1.0           5.0          2.0      0.714143        False
 62 Iris-versicolor           4.2          1.5           5.9          3.0      0.360555        False
 63 Iris-versicolor           4.0          1.0           6.0          2.2      0.583095        False
 64 Iris-versicolor           4.7          1.4           6.1          2.9      0.424264        False
 65 Iris-versicolor           3.6          1.3           5.6          2.9      0.519615        False
 66 Iris-versicolor           4.4          1.4           6.7          3.1      0.346410        False
 67 Iris-versicolor           4.5          1.5           5.6          3.0      0.412311        False
 68 Iris-versicolor           4.1          1.0           5.8          2.7      0.360555        False
 69 Iris-versicolor           4.5          1.5           6.2          2.2      0.678233        False
 70 Iris-versicolor           3.9          1.1           5.6          2.5      0.264575        False
 71 Iris-versicolor           4.8          1.8           5.9          3.2      0.424264        False
 72 Iris-versicolor           4.0          1.3           6.1          2.8      0.400000        False
 73 Iris-versicolor           4.9          1.5           6.3          2.5      0.424264        False
 74 Iris-versicolor           4.7          1.2           6.1          2.8      0.435890        False
 75 Iris-versicolor           4.3          1.3           6.4          2.9      0.387298        False
 76 Iris-versicolor           4.4          1.4           6.6          3.0      0.316228        False
 77 Iris-versicolor           4.8          1.4           6.8          2.8      0.374166        False
 78 Iris-versicolor           5.0          1.7           6.7          3.0      0.424264        False
 79 Iris-versicolor           4.5          1.5           6.0          2.9      0.346410        False
 80 Iris-versicolor           3.5          1.0           5.7          2.6      0.447214        False
 81 Iris-versicolor           3.8          1.1           5.5          2.4      0.300000        False
 82 Iris-versicolor           3.7          1.0           5.5          2.4      0.435890        False
 83 Iris-versicolor           3.9          1.2           5.8          2.7      0.300000        False
 84 Iris-versicolor           5.1          1.6           6.0          2.7      0.374166        False
 85 Iris-versicolor           4.5          1.5           5.4          3.0      0.489898        False
 86 Iris-versicolor           4.5          1.6           6.0          3.4      0.469042        False
 87 Iris-versicolor           4.7          1.5           6.7          3.1      0.331662        False
 88 Iris-versicolor           4.4          1.3           6.3          2.3      0.608276        False
 89 Iris-versicolor           4.1          1.3           5.6          3.0      0.316228        False
 90 Iris-versicolor           4.0          1.3           5.5          2.5      0.300000        False
 91 Iris-versicolor           4.4          1.2           5.5          2.6      0.424264        False
 92 Iris-versicolor           4.6          1.4           6.1          3.0      0.346410        False
 93 Iris-versicolor           4.0          1.2           5.8          2.6      0.264575        False
 94 Iris-versicolor           3.3          1.0           5.0          2.3      0.648074        False
 95 Iris-versicolor           4.2          1.3           5.6          2.7      0.300000        False
 96 Iris-versicolor           4.2          1.2           5.7          3.0      0.331662        False
 97 Iris-versicolor           4.2          1.3           5.7          2.9      0.223607        False
 98 Iris-versicolor           4.3          1.3           6.2          2.9      0.346410        False
 99 Iris-versicolor           3.0          1.1           5.1          2.5      0.793725         True
100 Iris-versicolor           4.1          1.3           5.7          2.8      0.244949        False
101  Iris-virginica           6.0          2.5           6.3          3.3      0.556776        False
102  Iris-virginica           5.1          1.9           5.8          2.7      0.331662        False
103  Iris-virginica           5.9          2.1           7.1          3.0      0.458258        False
104  Iris-virginica           5.6          1.8           6.3          2.9      0.387298        False
105  Iris-virginica           5.8          2.2           6.5          3.0      0.387298        False
106  Iris-virginica           6.6          2.1           7.6          3.0      0.547723        False
107  Iris-virginica           4.5          1.7           4.9          2.5      0.877496         True
108  Iris-virginica           6.3          1.8           7.3          2.9      0.547723        False
109  Iris-virginica           5.8          1.8           6.7          2.5      0.616441        False
110  Iris-virginica           6.1          2.5           7.2          3.6      0.754983         True
111  Iris-virginica           5.1          2.0           6.5          3.2      0.424264        False
112  Iris-virginica           5.3          1.9           6.4          2.7      0.387298        False
113  Iris-virginica           5.5          2.1           6.8          3.0      0.374166        False
114  Iris-virginica           5.0          2.0           5.7          2.5      0.519615        False
115  Iris-virginica           5.1          2.4           5.8          2.8      0.519615        False
116  Iris-virginica           5.3          2.3           6.4          3.2      0.387298        False
117  Iris-virginica           5.5          1.8           6.5          3.0      0.387298        False
118  Iris-virginica           6.7          2.2           7.7          3.8      1.004988         True
119  Iris-virginica           6.9          2.3           7.7          2.6      0.927362         True
120  Iris-virginica           5.0          1.5           6.0          2.2      0.583095        False
121  Iris-virginica           5.7          2.3           6.9          3.2      0.300000        False
122  Iris-virginica           4.9          2.0           5.6          2.8      0.458258        False
123  Iris-virginica           6.7          2.0           7.7          2.8      0.678233        False
124  Iris-virginica           4.9          1.8           6.3          2.7      0.360555        False
125  Iris-virginica           5.7          2.1           6.7          3.3      0.374166        False
126  Iris-virginica           6.0          1.8           7.2          3.2      0.469042        False
127  Iris-virginica           4.8          1.8           6.2          2.8      0.387298        False
128  Iris-virginica           4.9          1.8           6.1          3.0      0.300000        False
129  Iris-virginica           5.6          2.1           6.4          2.8      0.374166        False
130  Iris-virginica           5.8          1.6           7.2          3.0      0.556776        False
131  Iris-virginica           6.1          1.9           7.4          2.8      0.509902        False
132  Iris-virginica           6.4          2.0           7.9          3.8      0.932738         True
133  Iris-virginica           5.6          2.2           6.4          2.8      0.435890        False
134  Iris-virginica           5.1          1.5           6.3          2.8      0.435890        False
135  Iris-virginica           5.6          1.4           6.1          2.6      0.663325        False
136  Iris-virginica           6.1          2.3           7.7          3.0      0.678233        False
137  Iris-virginica           5.6          2.4           6.3          3.4      0.435890        False
138  Iris-virginica           5.5          1.8           6.4          3.1      0.435890        False
139  Iris-virginica           4.8          1.8           6.0          3.0      0.316228        False
140  Iris-virginica           5.4          2.1           6.9          3.1      0.374166        False
141  Iris-virginica           5.6          2.4           6.7          3.1      0.346410        False
142  Iris-virginica           5.1          2.3           6.9          3.1      0.509902        False
143  Iris-virginica           5.1          1.9           5.8          2.7      0.331662        False
144  Iris-virginica           5.9          2.3           6.8          3.2      0.346410        False
145  Iris-virginica           5.7          2.5           6.7          3.3      0.400000        False
146  Iris-virginica           5.2          2.3           6.7          3.0      0.374166        False
147  Iris-virginica           5.0          1.9           6.3          2.5      0.412311        False
148  Iris-virginica           5.2          2.0           6.5          3.0      0.360555        False
149  Iris-virginica           5.4          2.3           6.2          3.4      0.616441        False
150  Iris-virginica           5.1          1.8           5.9          3.0      0.331662        False

Jumlah outlier: 7

Data Outlier:
 id           Class  petal length  petal width  sepal_length  sepal_width           class  knn_distance  outlier_knn
 42     Iris-setosa           1.3          0.3           4.5          2.3     Iris-setosa      0.781025         True
 99 Iris-versicolor           3.0          1.1           5.1          2.5 Iris-versicolor      0.793725         True
107  Iris-virginica           4.5          1.7           4.9          2.5  Iris-virginica      0.877496         True
110  Iris-virginica           6.1          2.5           7.2          3.6  Iris-virginica      0.754983         True
118  Iris-virginica           6.7          2.2           7.7          3.8  Iris-virginica      1.004988         True
119  Iris-virginica           6.9          2.3           7.7          2.6  Iris-virginica      0.927362         True
132  Iris-virginica           6.4          2.0           7.9          3.8  Iris-virginica      0.932738         True
</pre></div>
</div>
<img alt="_images/31c8f5c1daf51edeaa9373b8a78332a612c2db169d53a7dcf16add570c1ab6cf.png" src="_images/31c8f5c1daf51edeaa9373b8a78332a612c2db169d53a7dcf16add570c1ab6cf.png" />
<img alt="_images/878ceb406f2b49c144c066c962a7f1eb7fccda6013449918d83d30865c36ffdc.png" src="_images/878ceb406f2b49c144c066c962a7f1eb7fccda6013449918d83d30865c36ffdc.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">load_iris</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>

<span class="n">iris</span> <span class="o">=</span> <span class="n">load_iris</span><span class="p">(</span><span class="n">as_frame</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">iris</span><span class="o">.</span><span class="n">data</span><span class="p">[[</span><span class="s2">&quot;sepal length (cm)&quot;</span><span class="p">,</span> <span class="s2">&quot;sepal width (cm)&quot;</span><span class="p">]]</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">iris</span><span class="o">.</span><span class="n">target</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">stratify</span><span class="o">=</span><span class="n">y</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<hr class="docutils" />
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="Datamining.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Pengenalan Data Mining (Penambangan Data)</p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#"><strong>Data Understanding</strong></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#tipe-data-pada-data-mining">Tipe Data pada Data Mining</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-nominal">1.<strong>Data Nominal</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-ordinal">2.<strong>Data Ordinal</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-biner">3.<strong>Data Biner</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tipe-data-biner"><strong>Tipe Data Biner:</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-numerik">4.<strong>Data Numerik</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#a-interval-scaled-data">A. <strong>Interval-Scaled Data</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#b-ratio-scaled-data">B. <strong>Ratio-Scaled Data</strong></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#pengumpulan-data">Pengumpulan Data</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#preview-data-dari-mysql">Preview Data dari MySQL</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#preview-data-dari-postgresql">Preview Data dari PostgreSQL</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#proses-penggabungan-data-yang-sudah-diambil">Proses penggabungan data yang sudah diambil</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#eksplorasi-data">Eksplorasi Data</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#statistik-deskriptif">Statistik Deskriptif</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#visualiasai-distribusi-data-yang-digabungkan">Visualiasai distribusi data yang digabungkan</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#identifikasi-masalah-data">Identifikasi Masalah Data</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#outliers"><strong>Outliers</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#penyebab-outlier"><strong>Penyebab Outlier</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dampak-outlier"><strong>Dampak Outlier</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pentingnya-deteksi-outlier"><strong>Pentingnya Deteksi Outlier</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#k-nearest-neighbors-knn"><strong>K-Nearest Neighbors (KNN)</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#prinsip-kerja-knn"><strong>Prinsip Kerja KNN</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#keunggulan-knn"><strong>Keunggulan KNN</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#kekurangan-knn"><strong>Kekurangan KNN</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#knn-untuk-deteksi-outlier"><strong>KNN untuk Deteksi Outlier</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#proses-deteksi-outlier-menggunakan-knn"><strong>Proses Deteksi Outlier menggunakan KNN</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#persiapan-data"><strong>Persiapan Data</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#inisialisasi-model-knn"><strong>Inisialisasi Model KNN</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menghitung-jarak"><strong>Menghitung Jarak</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menentukan-outlier"><strong>Menentukan Outlier</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#visualisasi"><strong>Visualisasi</strong></a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Dikky Nofembri Rahmadani
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      Â© Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>